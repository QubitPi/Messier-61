!function(){"use strict";function t(t,e,n){const r=document.createElement(t);return e&&r.setAttribute("class",e),void 0!==n&&(Array.isArray(n)||(n=[n]),n.forEach((function(t){t&&r.appendChild(t)}))),r}var e,n,r;function o(t,e){var n=document.createElement("div");n.innerHTML=t,Array.from(n.querySelectorAll("i.conum, b")).map((function(t){n.removeChild(t)}));var r=document.createElement("textarea"),o=n.innerHTML;return"bash"!==e&&"sh"!==e&&"shell"!==e&&"console"!==e||(o=window.neo4jDocs.copyableCommand(o)),r.innerHTML=o,r.value}function i(t){return Array.isArray(t)?t.map((function(t){return i(t)})):window.neo4j&&"function"==typeof window.neo4j.isInt&&window.neo4j.isInt(t)?t.toNumber():"object"==typeof t&&null!==t?Object.fromEntries(Object.keys(t).map((function(e){return[e,i(t[e])]}))):t}function a(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}!function(){var t=/^sect(\d)$/,e=document.querySelector(".nav-container"),n=document.querySelector(".nav-toggle");if(e&&n){n&&n.addEventListener("click",(function(t){if(n.classList.contains("is-active"))return d(t);var r=document.documentElement;r.classList.add("is-clipped--nav"),n.classList.add("is-active"),e.classList.add("is-active"),r.addEventListener("click",d),h(t)})),e&&e.addEventListener("click",h);var r=e.querySelector("[data-panel=menu]");if(!r)return;var o=e.querySelector(".nav"),i=r.querySelector(".is-current-page"),a=i;i?(l(i),f(r,i.querySelector(".nav-link"))):r.scrollTop=0,p(r,".nav-item-toggle:not(a)").forEach((function(t){var e=t.parentElement;t.addEventListener("click",u.bind(e));var n=function(t,e){var n=t.nextElementSibling;if(!n)return;return e?n[n.matches?"matches":"msMatchesSelector"](e)&&n:n}(t,".nav-text");n&&(n.style.cursor="pointer",n.addEventListener("click",u.bind(e)))})),o.querySelector(".context")&&o.querySelector(".context").addEventListener("click",(function(){var t=o.querySelector(".is-active[data-panel]"),e="menu"===t.dataset.panel?"explore":"menu";t.classList.toggle("is-active"),o.querySelector("[data-panel="+e+"]").classList.toggle("is-active")})),r.addEventListener("mousedown",(function(t){t.detail>1&&t.preventDefault()})),r&&r.querySelector('.nav-link[href^="#"]')&&(window.location.hash&&c(),window.addEventListener("hashchange",c))}var s=document.querySelector(".version-selector");function c(){var e,n,o=window.location.hash;if(o&&(o.indexOf("%")&&(o=decodeURIComponent(o)),!(e=r.querySelector('.nav-link[href="'+o+'"]')))){var s=document.getElementById(o.slice(1));if(s)for(var c=s,u=document.querySelector("article.doc");(c=c.parentNode)&&c!==u;){var d=c.id;if(!d&&(d=c.className&&c.className.match(t))&&(d=(c.firstElementChild||{}).id),d&&(e=r.querySelector('.nav-link[href="#'+d+'"]')))break}}if(e)n=e.parentNode;else{if(!a)return;e=(n=a).querySelector(".nav-link")}n!==i&&(p(r,".nav-item.is-active").forEach((function(t){t.classList.remove("is-active","is-current-path","is-current-page")})),n.classList.add("is-current-page"),i=n,l(n),f(r,e))}function l(t){for(var e,n=t.parentNode;!(e=n.classList).contains("nav-menu");)"LI"===n.tagName&&e.contains("nav-item")&&e.add("is-active","is-current-path"),n=n.parentNode;t.classList.add("is-active")}function u(){this.classList.toggle("is-active")}function d(t){var r=document.documentElement;r.classList.remove("is-clipped--nav"),n.classList.remove("is-active"),e.classList.remove("is-active"),r.removeEventListener("click",d),h(t)}function h(t){t.stopPropagation()}function f(t,e){var n=t.getBoundingClientRect(),r=n.height,i=window.getComputedStyle(o);"sticky"===i.position&&(r-=n.top-parseFloat(i.top)),t.scrollTop=Math.max(0,.5*(e.getBoundingClientRect().height-r)+e.offsetTop)}function p(t,e){return[].slice.call(t.querySelectorAll(e))}s&&s.addEventListener("change",(function(t){const e=t.target,n=e.dataset.current,r=e.selectedOptions[0].dataset.version,o=e.value;window.ga&&window.ga("send","event","version-select","From: "+n+";To:"+r+";"),document.location.replace(o)})),window.addEventListener("resize",(function(){var t=document.querySelector("html");window.innerWidth>=1024&&t.classList.contains("is-clipped--nav")&&t.classList.remove("is-clipped--nav")}))}(),function(){var t=document.querySelector("aside.toc.sidebar");if(t){if(document.querySelector("body.-toc"))return t.parentNode.removeChild(t);var e=parseInt(t.dataset.levels||2);if(!(e<0)){for(var n,r,o=document.querySelector("article.doc"),i=[],a=0;a<=e;a++)i.push(a?".sect"+a+">h"+(a+1)+"[id]":"h1[id].sect0");if(!(n=function(t,e){return[].slice.call((e||document).querySelectorAll(t))}(i.join(","),o)).length)return t.parentNode.removeChild(t);var s={},c=n.reduce((function(t,e){var n=document.createElement("a");n.textContent=e.textContent,s[n.href="#"+e.id]=n;var r=document.createElement("li");return r.dataset.level=parseInt(e.nodeName.slice(1))-1,r.appendChild(n),t.appendChild(r),t}),document.createElement("ul")),l=t.querySelector(".toc-menu-placeholder");l||((l=document.createElement("div")).className="toc-menu-placeholder");var u=document.createElement("h2");u.textContent=t.dataset.title||"Contents",l.appendChild(u),l.appendChild(c);var d=!document.getElementById("toc")&&o.querySelector("h1.page ~ :not(.is-before-toc)");if(d){var h=document.createElement("aside");h.className="toc embedded",h.appendChild(l.cloneNode(!0)),d.parentNode.insertBefore(h,d)}window.addEventListener("load",(function(){f(),window.addEventListener("scroll",f)}))}}function f(){var t,e=window.pageYOffset,i=1.15*p(document.documentElement,"fontSize"),a=o.offsetTop;if(e&&window.innerHeight+e+2>=document.documentElement.scrollHeight){r=Array.isArray(r)?r:Array(r||0);var l=[],u=n.length-1;return n.forEach((function(t,e){var n="#"+t.id;e===u||t.getBoundingClientRect().top+p(t,"paddingTop")>a?(l.push(n),r.indexOf(n)<0&&s[n].classList.add("is-active")):~r.indexOf(n)&&s[r.shift()].classList.remove("is-active")})),c.scrollTop=c.scrollHeight-c.offsetHeight,void(r=l.length>1?l:l[0])}if(Array.isArray(r)&&(r.forEach((function(t){s[t].classList.remove("is-active")})),r=void 0),n.some((function(e){if(e.getBoundingClientRect().top+p(e,"paddingTop")-i>a)return!0;t="#"+e.id})),t){if(t===r)return;r&&s[r].classList.remove("is-active");var d=s[t];d.classList.add("is-active"),c.scrollHeight>c.offsetHeight&&(c.scrollTop=Math.max(0,d.offsetTop+d.offsetHeight-c.offsetHeight)),r=t}else r&&(s[r].classList.remove("is-active"),r=void 0)}function p(t,e){return parseFloat(window.getComputedStyle(t)[e])}}(),function(){var t=document.querySelector("body"),e=document.querySelector("div.glossary");if(e){var n,r=function(t,e,n){var r=document.createElement(t);return r.setAttribute("class",e),Array.isArray(n)&&n.forEach((function(t){r.appendChild(t)})),r},o=function(e,n){if(a||(a=r("div","tooltip tooltip--bottom"),t.appendChild(a)),a.innerHTML=null,e&&(e=r("div","tooltip-header",[document.createTextNode(e)]),a.appendChild(e)),n){var o=r("div","tooltip-body");o.innerHTML=n,a.appendChild(o),a.style.display="block"}return a},i=function(){return n&&clearTimeout(n),n=setTimeout((function(){a.innerHTML=null,a.style.display="none"}),200),!1},a=o();a.addEventListener("mouseover",(function(){clearTimeout(n)})),a.addEventListener("mouseout",i),Array.from(e.querySelectorAll("a[id]")).forEach((function(t){var e=document.querySelectorAll('a[href="#'+t.getAttribute("id")+'"]'),r=t.parentElement,s=r.innerText,c=r.nextElementSibling.innerHTML;Array.from(e).forEach((function(t){t.classList.add("glossary-term"),t.addEventListener("mouseover",(function(t){t.stopPropagation(),clearTimeout(n),a=o(s,c);var e=t.target.getBoundingClientRect(),r=e.y+window.scrollY,i=e.x,l=e.width,u=a.clientWidth,d=a.clientHeight;a.style.top=r-d-10+"px",a.style.left=i+l/2-u/2+"px";e.y-d-10<0?(a.style.top=r+e.height+10+"px",a.classList.add("tooltip--top"),a.classList.remove("tooltip--bottom")):(a.classList.remove("tooltip--top"),a.classList.add("tooltip--bottom"))})),t.addEventListener("mouseout",i),t.removeAttribute("href")}))}))}}(),function(){var t=document.querySelector(".page-versions .version-menu-toggle");if(t){var e=document.querySelector(".page-versions");t.addEventListener("click",(function(t){e.classList.toggle("is-active"),t.stopPropagation()})),document.documentElement.addEventListener("click",(function(){e.classList.remove("is-active")}))}}(),document.addEventListener("DOMContentLoaded",(function(){var t=Array.prototype.slice.call(document.querySelectorAll(".navbar-burger"),0);0!==t.length&&t.forEach((function(t){t.addEventListener("click",(function(e){e.stopPropagation(),t.classList.toggle("is-active"),document.getElementById(t.dataset.target).classList.toggle("is-active"),document.documentElement.classList.toggle("is-clipped--navbar")}))}))})),e=/\\\s*$/,window.neo4jDocs={copyableCommand:function(t){var n=t;if(t.startsWith("$ ")){for(var r=n.split("\n"),o="",i=[],a=!1,s=0;s<r.length;s++){var c=r[s];(a||c.startsWith("$ "))&&(a?o+="\n"+c:c.startsWith("$ ")&&(o=c.substr(2,c.length)),(a=c.match(e))||i.push(o))}n=i.join("; ")}return n}},document.addEventListener("DOMContentLoaded",(function(){var e=["gram"],n=function(t,e){var n=document.createElement("textarea");n.value=function(t,e){var n=t;return"bash"!==e&&"sh"!==e&&"shell"!==e&&"console"!==e||(n=window.neo4jDocs.copyableCommand(n)),n}(t,e),n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),document.execCommand("copy"),document.body.removeChild(n),window.mixpanel&&window.mixpanel.track("DOCS_CODE_COPY",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,language:e,code:n.value})};document.querySelectorAll(".highlight").forEach((function(r){var o=r.querySelector("code"),i=o.innerText,a=r.parentNode,s=a.parentNode,c=!s.classList.contains("nocopy"),l=o.hasAttribute("class")&&o.getAttribute("class").match(/language-([a-z0-9-])+/i)[0].replace("language-","");if(!(l&&e.indexOf(l.toLowerCase())>-1)){var u=[],d=a.parentNode.querySelector(".title");if(s.classList.add("has-header"),d){s.classList.add("has-title");var h=document.createElement("div");h.className="code-title",h.innerHTML=d.innerHTML,d.style.display="none",u.push(h)}if(c){var f=t("span","btn btn-copy fa fa-copy"),p=t("span","btn",[document.createTextNode("Copied!")]),m=t("div","copy-success hidden",p);f.addEventListener("click",(function(t){t.preventDefault(),n(i,l);var e=t.target,r=e.innerHTML;m.classList.remove("hidden"),m.closest(".content").querySelector("code").classList.add("copied"),setTimeout((function(){e.innerHTML=r,e.style.width="",m.classList.add("hidden"),m.closest(".content").querySelector("code").classList.remove("copied")}),1e3)}));var v=t("div","code-inset",f);l&&(v.dataset.lang=function(t){var e,n;switch(t){case"csharp":case"dotnet":e="C#";break;case"javascript":e="JavaScript";break;default:e=(n=t).charAt(0).toUpperCase()+n.slice(1)}return e}(l)),v.appendChild(m),u.push(v)}var g=t("div","code-header",u);a.insertBefore(g,r)}}));var r=document.getElementsByClassName("highlight");if(r[0]){var o=parseFloat(window.getComputedStyle(r[0],null).getPropertyValue("line-height")),i=15*o,a="linear-gradient(to bottom, black 0px, transparent "+(i+100)+"px)",s=function(t){t.preventDefault();var e=t.target.closest("pre"),n=e.querySelector("code"),r=e.querySelector("div.show-more");e.style.maxHeight=e.scrollHeight+"px",e.style.overflow="visible",e.style.cursor="",n.style.webkitMaskImage="",n.style.maskImage="",e.removeChild(r)};document.querySelectorAll(".highlight").forEach((function(e){var n=e.parentNode.parentNode,r=e.querySelector("code");if(!n.classList.contains("nocollapse")&&e.offsetHeight>20*o){e.style.maxHeight=i+"px",e.style.overflow="hidden",e.style.cursor="grab",r.style.webkitMaskImage=a,r.style.maskImage=a;var c=t("div","show-more");e.addEventListener("click",s);var l=t("a"),u=function(t){var e=parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-top")),n=parseFloat(window.getComputedStyle(t,null).getPropertyValue("padding-bottom")),r=t.clientHeight-e-n,i=Math.ceil(r/o),a=Math.ceil(i-15);return console.log(`lines: ${i}, hiddenLines: ${a}`),{lines:i,hiddenLines:a}}(r);l.innerHTML="View all ("+u.hiddenLines+" more lines)",e.appendChild(c),c.appendChild(l)}}));var c="tabbed-target--active",l="tabbed-tab--active",u=function(t){var e=t.target,n=e.innerHTML;document.querySelectorAll('.tabbed-target[data-title="'+n+'"]').forEach((function(t){t.parentElement.querySelectorAll("."+c).forEach((function(t){t.classList.remove(c)})),t.classList.add(c),t.parentElement.parentElement.querySelectorAll("."+l).forEach((function(t){t.classList.remove(l)})),t.parentElement.parentElement.querySelectorAll('.tabbed-tab[data-title="'+n+'"]').forEach((function(t){t.classList.add(l)}))}));var r=0,o=document.querySelector(".toolbar");o.offsetHeight&&(r=o.offsetHeight);var i=document.querySelector(".navbar").offsetHeight+r+20,a=document.body.getBoundingClientRect().top,s=e.getBoundingClientRect().top-a-i;window.scrollTo({top:s,behavior:"smooth"})};Array.from(document.querySelectorAll(".tabs")).forEach((function(e){for(var n=e,r=e.parentElement,o=[e];e;){var i=e.nextElementSibling;i&&!i.classList.contains("sect2")&&i.querySelector("code")?(o.push(i),e=i):e=!1}if(!(o.length<=1)){var a=t("div","tabbed-container",[]),s=t("div","tabbed",[a]);r.insertBefore(s,n);var c=o.map((function(e){var n,r=e.querySelector(".title"),o=e.querySelector(".code-language");r?n=r.innerHTML:o&&(n=o.innerHTML);var i=t("li","tabbed-tab",[document.createTextNode(n)]);return e.dataset.title=n,i.dataset.title=n,i.addEventListener("click",u),i}));c[0].classList.add("tabbed-tab--active"),s.insertBefore(t("ul","tabbed-tabs",c),a),o.forEach((function(t){r.removeChild(t),a.appendChild(t),t.classList.add("tabbed-target")})),o[0].classList.add("tabbed-target--active")}}))}})),1===(n=a).length&&(r=n,n=function(t,e){return a(r(t),e)});var s={value:function(){}};function c(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new l(r)}function l(t){this._=t}function u(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function d(t,e){for(var n,r=0,o=t.length;r<o;++r)if((n=t[r]).name===e)return n.value}function h(t,e,n){for(var r=0,o=t.length;r<o;++r)if(t[r].name===e){t[r]=s,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}l.prototype=c.prototype={constructor:l,on:function(t,e){var n,r=this._,o=u(t+"",r),i=-1,a=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++i<a;)if(n=(t=o[i]).type)r[n]=h(r[n],t.name,e);else if(null==e)for(n in r)r[n]=h(r[n],t.name,null);return this}for(;++i<a;)if((n=(t=o[i]).type)&&(n=d(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new l(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,o=new Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,n=(r=this._[t]).length;i<n;++i)r[i].value.apply(e,o)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],o=0,i=r.length;o<i;++o)r[o].value.apply(e,n)}};var f="http://www.w3.org/1999/xhtml",p={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function m(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),p.hasOwnProperty(e)?{space:p[e],local:t}:t}function v(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===f&&e.documentElement.namespaceURI===f?e.createElement(t):e.createElementNS(n,t)}}function g(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function y(t){var e=m(t);return(e.local?g:v)(e)}function w(){}function _(t){return null==t?w:function(){return this.querySelector(t)}}function b(){return[]}function x(t){return null==t?b:function(){return this.querySelectorAll(t)}}function E(t){return function(){return this.matches(t)}}function S(t){return new Array(t.length)}function k(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}k.prototype={constructor:k,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function L(t,e,n,r,o,i){for(var a,s=0,c=e.length,l=i.length;s<l;++s)(a=e[s])?(a.__data__=i[s],r[s]=a):n[s]=new k(t,i[s]);for(;s<c;++s)(a=e[s])&&(o[s]=a)}function A(t,e,n,r,o,i,a){var s,c,l,u={},d=e.length,h=i.length,f=new Array(d);for(s=0;s<d;++s)(c=e[s])&&(f[s]=l="$"+a.call(c,c.__data__,s,e),l in u?o[s]=c:u[l]=c);for(s=0;s<h;++s)(c=u[l="$"+a.call(t,i[s],s,i)])?(r[s]=c,c.__data__=i[s],u[l]=null):n[s]=new k(t,i[s]);for(s=0;s<d;++s)(c=e[s])&&u[f[s]]===c&&(o[s]=c)}function q(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function C(t){return function(){this.removeAttribute(t)}}function N(t){return function(){this.removeAttributeNS(t.space,t.local)}}function M(t,e){return function(){this.setAttribute(t,e)}}function T(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function z(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function H(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function O(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function I(t){return function(){this.style.removeProperty(t)}}function D(t,e,n){return function(){this.style.setProperty(t,e,n)}}function j(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function R(t,e){return t.style.getPropertyValue(e)||O(t).getComputedStyle(t,null).getPropertyValue(e)}function P(t){return function(){delete this[t]}}function B(t,e){return function(){this[t]=e}}function U(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function $(t){return t.trim().split(/^|\s+/)}function F(t){return t.classList||new Y(t)}function Y(t){this._node=t,this._names=$(t.getAttribute("class")||"")}function X(t,e){for(var n=F(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function G(t,e){for(var n=F(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function V(t){return function(){X(this,t)}}function W(t){return function(){G(this,t)}}function Q(t,e){return function(){(e.apply(this,arguments)?X:G)(this,t)}}function J(){this.textContent=""}function K(t){return function(){this.textContent=t}}function Z(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function tt(){this.innerHTML=""}function et(t){return function(){this.innerHTML=t}}function nt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function rt(){this.nextSibling&&this.parentNode.appendChild(this)}function ot(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function it(){return null}function at(){var t=this.parentNode;t&&t.removeChild(this)}function st(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ct(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}Y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var lt={},ut=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(lt={mouseenter:"mouseover",mouseleave:"mouseout"}));function dt(t,e,n){return t=ht(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ht(t,e,n){return function(r){var o=ut;ut=r;try{t.call(this,this.__data__,e,n)}finally{ut=o}}}function ft(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function pt(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function mt(t,e,n){var r=lt.hasOwnProperty(t.type)?dt:ht;return function(o,i,a){var s,c=this.__on,l=r(e,i,a);if(c)for(var u=0,d=c.length;u<d;++u)if((s=c[u]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(s):this.__on=[s]}}function vt(t,e,n,r){var o=ut;t.sourceEvent=ut,ut=t;try{return e.apply(n,r)}finally{ut=o}}function gt(t,e,n){var r=O(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function yt(t,e){return function(){return gt(this,t,e)}}function wt(t,e){return function(){return gt(this,t,e.apply(this,arguments))}}var _t=[null];function bt(t,e){this._groups=t,this._parents=e}function xt(){return new bt([[document.documentElement]],_t)}function Et(t){return"string"==typeof t?new bt([[document.querySelector(t)]],[document.documentElement]):new bt([[t]],_t)}function St(){for(var t,e=ut;t=e.sourceEvent;)e=t;return e}function kt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function Lt(t){var e=St();return e.changedTouches&&(e=e.changedTouches[0]),kt(t,e)}function At(t,e,n){arguments.length<3&&(n=e,e=St().changedTouches);for(var r,o=0,i=e?e.length:0;o<i;++o)if((r=e[o]).identifier===n)return kt(t,r);return null}function qt(){ut.stopImmediatePropagation()}function Ct(){ut.preventDefault(),ut.stopImmediatePropagation()}function Nt(t){var e=t.document.documentElement,n=Et(t).on("dragstart.drag",Ct,!0);"onselectstart"in e?n.on("selectstart.drag",Ct,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Mt(t,e){var n=t.document.documentElement,r=Et(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ct,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Tt(t){return function(){return t}}function zt(t,e,n,r,o,i,a,s,c,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=o,this.x=i,this.y=a,this.dx=s,this.dy=c,this._=l}function Ht(){return!ut.ctrlKey&&!ut.button}function Ot(){return this.parentNode}function It(t){return null==t?{x:ut.x,y:ut.y}:t}function Dt(){return navigator.maxTouchPoints||"ontouchstart"in this}function jt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Rt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pt(){}bt.prototype=xt.prototype={constructor:bt,select:function(t){"function"!=typeof t&&(t=_(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a,s=e[o],c=s.length,l=r[o]=new Array(c),u=0;u<c;++u)(i=s[u])&&(a=t.call(i,i.__data__,u,s))&&("__data__"in i&&(a.__data__=i.__data__),l[u]=a);return new bt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=x(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var a,s=e[i],c=s.length,l=0;l<c;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),o.push(a));return new bt(r,o)},filter:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new bt(r,this._parents)},data:function(t,e){if(!t)return f=new Array(this.size()),l=-1,this.each((function(t){f[++l]=t})),f;var n=e?A:L,r=this._parents,o=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=o.length,a=new Array(i),s=new Array(i),c=new Array(i),l=0;l<i;++l){var u=r[l],d=o[l],h=d.length,f=t.call(u,u&&u.__data__,l,r),p=f.length,m=s[l]=new Array(p),v=a[l]=new Array(p);n(u,d,m,v,c[l]=new Array(h),f,e);for(var g,y,w=0,_=0;w<p;++w)if(g=m[w]){for(w>=_&&(_=w+1);!(y=v[_])&&++_<p;);g._next=y||null}}return(a=new bt(a,r))._enter=s,a._exit=c,a},enter:function(){return new bt(this._enter||this._groups.map(S),this._parents)},exit:function(){return new bt(this._exit||this._groups.map(S),this._parents)},join:function(t,e,n){var r=this.enter(),o=this,i=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(o=e(o)),null==n?i.remove():n(i),r&&o?r.merge(o).order():o},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=e[s],u=n[s],d=l.length,h=a[s]=new Array(d),f=0;f<d;++f)(c=l[f]||u[f])&&(h[f]=c);for(;s<r;++s)a[s]=e[s];return new bt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=q);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var a,s=n[i],c=s.length,l=o[i]=new Array(c),u=0;u<c;++u)(a=s[u])&&(l[u]=a);l.sort(e)}return new bt(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],a=0,s=i.length;a<s;++a)(o=i[a])&&t.call(o,o.__data__,a,i);return this},attr:function(t,e){var n=m(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?N:C:"function"==typeof e?n.local?H:z:n.local?T:M)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?I:"function"==typeof e?j:D)(t,e,null==n?"":n)):R(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?P:"function"==typeof e?U:B)(t,e)):this.node()[t]},classed:function(t,e){var n=$(t+"");if(arguments.length<2){for(var r=F(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?Q:e?V:W)(n,e))},text:function(t){return arguments.length?this.each(null==t?J:("function"==typeof t?Z:K)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?tt:("function"==typeof t?nt:et)(t)):this.node().innerHTML},raise:function(){return this.each(rt)},lower:function(){return this.each(ot)},append:function(t){var e="function"==typeof t?t:y(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:y(t),r=null==e?it:"function"==typeof e?e:_(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(at)},clone:function(t){return this.select(t?ct:st)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,i=ft(t+""),a=i.length;if(!(arguments.length<2)){for(s=e?mt:pt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(i[r],e,n));return this}var s=this.node().__on;if(s)for(var c,l=0,u=s.length;l<u;++l)for(r=0,c=s[l];r<a;++r)if((o=i[r]).type===c.type&&o.name===c.name)return c.value},dispatch:function(t,e){return this.each(("function"==typeof e?wt:yt)(t,e))}},zt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Bt=.7,Ut=1/Bt,$t="\\s*([+-]?\\d+)\\s*",Ft="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xt=/^#([0-9a-f]{3,8})$/,Gt=new RegExp("^rgb\\("+[$t,$t,$t]+"\\)$"),Vt=new RegExp("^rgb\\("+[Yt,Yt,Yt]+"\\)$"),Wt=new RegExp("^rgba\\("+[$t,$t,$t,Ft]+"\\)$"),Qt=new RegExp("^rgba\\("+[Yt,Yt,Yt,Ft]+"\\)$"),Jt=new RegExp("^hsl\\("+[Ft,Yt,Yt]+"\\)$"),Kt=new RegExp("^hsla\\("+[Ft,Yt,Yt,Ft]+"\\)$"),Zt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function te(){return this.rgb().formatHex()}function ee(){return this.rgb().formatRgb()}function ne(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xt.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?re(e):3===n?new se(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?oe(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?oe(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Gt.exec(t))?new se(e[1],e[2],e[3],1):(e=Vt.exec(t))?new se(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Wt.exec(t))?oe(e[1],e[2],e[3],e[4]):(e=Qt.exec(t))?oe(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Jt.exec(t))?de(e[1],e[2]/100,e[3]/100,1):(e=Kt.exec(t))?de(e[1],e[2]/100,e[3]/100,e[4]):Zt.hasOwnProperty(t)?re(Zt[t]):"transparent"===t?new se(NaN,NaN,NaN,0):null}function re(t){return new se(t>>16&255,t>>8&255,255&t,1)}function oe(t,e,n,r){return r<=0&&(t=e=n=NaN),new se(t,e,n,r)}function ie(t){return t instanceof Pt||(t=ne(t)),t?new se((t=t.rgb()).r,t.g,t.b,t.opacity):new se}function ae(t,e,n,r){return 1===arguments.length?ie(t):new se(t,e,n,null==r?1:r)}function se(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ce(){return"#"+ue(this.r)+ue(this.g)+ue(this.b)}function le(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function ue(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function de(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new fe(t,e,n,r)}function he(t){if(t instanceof fe)return new fe(t.h,t.s,t.l,t.opacity);if(t instanceof Pt||(t=ne(t)),!t)return new fe;if(t instanceof fe)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,o=Math.min(e,n,r),i=Math.max(e,n,r),a=NaN,s=i-o,c=(i+o)/2;return s?(a=e===i?(n-r)/s+6*(n<r):n===i?(r-e)/s+2:(e-n)/s+4,s/=c<.5?i+o:2-i-o,a*=60):s=c>0&&c<1?0:a,new fe(a,s,c,t.opacity)}function fe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function pe(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function me(t){return function(){return t}}function ve(t){return 1==(t=+t)?ge:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):me(isNaN(e)?n:e)}}function ge(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):me(isNaN(t)?e:t)}jt(Pt,ne,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:te,formatHex:te,formatHsl:function(){return he(this).formatHsl()},formatRgb:ee,toString:ee}),jt(se,ae,Rt(Pt,{brighter:function(t){return t=null==t?Ut:Math.pow(Ut,t),new se(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?Bt:Math.pow(Bt,t),new se(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ce,formatHex:ce,formatRgb:le,toString:le})),jt(fe,(function(t,e,n,r){return 1===arguments.length?he(t):new fe(t,e,n,null==r?1:r)}),Rt(Pt,{brighter:function(t){return t=null==t?Ut:Math.pow(Ut,t),new fe(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?Bt:Math.pow(Bt,t),new fe(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,o=2*n-r;return new se(pe(t>=240?t-240:t+120,o,r),pe(t,o,r),pe(t<120?t+240:t-120,o,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var ye=function t(e){var n=ve(e);function r(t,e){var r=n((t=ae(t)).r,(e=ae(e)).r),o=n(t.g,e.g),i=n(t.b,e.b),a=ge(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=o(e),t.b=i(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function we(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var _e=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,be=new RegExp(_e.source,"g");function xe(t,e){var n,r,o,i=_e.lastIndex=be.lastIndex=0,a=-1,s=[],c=[];for(t+="",e+="";(n=_e.exec(t))&&(r=be.exec(e));)(o=r.index)>i&&(o=e.slice(i,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,c.push({i:a,x:we(n,r)})),i=be.lastIndex;return i<e.length&&(o=e.slice(i),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?function(t){return function(e){return t(e)+""}}(c[0].x):function(t){return function(){return t}}(e):(e=c.length,function(t){for(var n,r=0;r<e;++r)s[(n=c[r]).i]=n.x(t);return s.join("")})}var Ee,Se,ke,Le,Ae=180/Math.PI,qe={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Ce(t,e,n,r,o,i){var a,s,c;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),t*r<e*n&&(t=-t,e=-e,c=-c,a=-a),{translateX:o,translateY:i,rotate:Math.atan2(e,t)*Ae,skewX:Math.atan(c)*Ae,scaleX:a,scaleY:s}}function Ne(t,e,n,r){function o(t){return t.length?t.pop()+" ":""}return function(i,a){var s=[],c=[];return i=t(i),a=t(a),function(t,r,o,i,a,s){if(t!==o||r!==i){var c=a.push("translate(",null,e,null,n);s.push({i:c-4,x:we(t,o)},{i:c-2,x:we(r,i)})}else(o||i)&&a.push("translate("+o+e+i+n)}(i.translateX,i.translateY,a.translateX,a.translateY,s,c),function(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(o(n)+"rotate(",null,r)-2,x:we(t,e)})):e&&n.push(o(n)+"rotate("+e+r)}(i.rotate,a.rotate,s,c),function(t,e,n,i){t!==e?i.push({i:n.push(o(n)+"skewX(",null,r)-2,x:we(t,e)}):e&&n.push(o(n)+"skewX("+e+r)}(i.skewX,a.skewX,s,c),function(t,e,n,r,i,a){if(t!==n||e!==r){var s=i.push(o(i)+"scale(",null,",",null,")");a.push({i:s-4,x:we(t,n)},{i:s-2,x:we(e,r)})}else 1===n&&1===r||i.push(o(i)+"scale("+n+","+r+")")}(i.scaleX,i.scaleY,a.scaleX,a.scaleY,s,c),i=a=null,function(t){for(var e,n=-1,r=c.length;++n<r;)s[(e=c[n]).i]=e.x(t);return s.join("")}}}var Me=Ne((function(t){return"none"===t?qe:(Ee||(Ee=document.createElement("DIV"),Se=document.documentElement,ke=document.defaultView),Ee.style.transform=t,t=ke.getComputedStyle(Se.appendChild(Ee),null).getPropertyValue("transform"),Se.removeChild(Ee),Ce(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Te=Ne((function(t){return null==t?qe:(Le||(Le=document.createElementNS("http://www.w3.org/2000/svg","g")),Le.setAttribute("transform",t),(t=Le.transform.baseVal.consolidate())?Ce((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):qe)}),", ",")",")"),ze=Math.SQRT2;function He(t){return((t=Math.exp(t))+1/t)/2}function Oe(t,e){var n,r,o=t[0],i=t[1],a=t[2],s=e[0],c=e[1],l=e[2],u=s-o,d=c-i,h=u*u+d*d;if(h<1e-12)r=Math.log(l/a)/ze,n=function(t){return[o+t*u,i+t*d,a*Math.exp(ze*t*r)]};else{var f=Math.sqrt(h),p=(l*l-a*a+4*h)/(2*a*2*f),m=(l*l-a*a-4*h)/(2*l*2*f),v=Math.log(Math.sqrt(p*p+1)-p),g=Math.log(Math.sqrt(m*m+1)-m);r=(g-v)/ze,n=function(t){var e=t*r,n=He(v),s=a/(2*f)*(n*function(t){return((t=Math.exp(2*t))-1)/(t+1)}(ze*e+v)-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[o+s*u,i+s*d,a*n/He(ze*e+v)]}}return n.duration=1e3*r,n}var Ie,De,je=0,Re=0,Pe=0,Be=0,Ue=0,$e=0,Fe="object"==typeof performance&&performance.now?performance:Date,Ye="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Xe(){return Ue||(Ye(Ge),Ue=Fe.now()+$e)}function Ge(){Ue=0}function Ve(){this._call=this._time=this._next=null}function We(t,e,n){var r=new Ve;return r.restart(t,e,n),r}function Qe(){Ue=(Be=Fe.now())+$e,je=Re=0;try{!function(){Xe(),++je;for(var t,e=Ie;e;)(t=Ue-e._time)>=0&&e._call.call(null,t),e=e._next;--je}()}finally{je=0,function(){var t,e,n=Ie,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ie=e);De=t,Ke(r)}(),Ue=0}}function Je(){var t=Fe.now(),e=t-Be;e>1e3&&($e-=e,Be=t)}function Ke(t){je||(Re&&(Re=clearTimeout(Re)),t-Ue>24?(t<1/0&&(Re=setTimeout(Qe,t-Fe.now()-$e)),Pe&&(Pe=clearInterval(Pe))):(Pe||(Be=Fe.now(),Pe=setInterval(Je,1e3)),je=1,Ye(Qe)))}function Ze(t,e,n){var r=new Ve;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Ve.prototype=We.prototype={constructor:Ve,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Xe():+n)+(null==e?0:+e),this._next||De===this||(De?De._next=this:Ie=this,De=this),this._call=t,this._time=n,Ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ke())}};var tn=c("start","end","cancel","interrupt"),en=[];function nn(t,e,n,r,o,i){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,o=t.__transition;function i(t){n.state=1,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(i){var l,u,d,h;if(1!==n.state)return c();for(l in o)if((h=o[l]).name===n.name){if(3===h.state)return Ze(a);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete o[l]):+l<e&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete o[l])}if(Ze((function(){3===n.state&&(n.state=4,n.timer.restart(s,n.delay,n.time),s(i))})),n.state=2,n.on.call("start",t,t.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(d=n.tween.length),l=0,u=-1;l<d;++l)(h=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++u]=h);r.length=u+1}}function s(e){for(var o=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(c),n.state=5,1),i=-1,a=r.length;++i<a;)r[i].call(t,o);5===n.state&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){for(var r in n.state=6,n.timer.stop(),delete o[e],o)return;delete t.__transition}o[e]=n,n.timer=We(i,0,n.time)}(t,n,{name:e,index:r,group:o,on:tn,tween:en,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:0})}function rn(t,e){var n=an(t,e);if(n.state>0)throw new Error("too late; already scheduled");return n}function on(t,e){var n=an(t,e);if(n.state>3)throw new Error("too late; already running");return n}function an(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function sn(t,e){var n,r,o,i=t.__transition,a=!0;if(i){for(o in e=null==e?null:e+"",i)(n=i[o]).name===e?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete i[o]):a=!1;a&&delete t.__transition}}function cn(t,e){var n,r;return function(){var o=on(this,t),i=o.tween;if(i!==n)for(var a=0,s=(r=n=i).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}o.tween=r}}function ln(t,e,n){var r,o;if("function"!=typeof n)throw new Error;return function(){var i=on(this,t),a=i.tween;if(a!==r){o=(r=a).slice();for(var s={name:e,value:n},c=0,l=o.length;c<l;++c)if(o[c].name===e){o[c]=s;break}c===l&&o.push(s)}i.tween=o}}function un(t,e,n){var r=t._id;return t.each((function(){var t=on(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return an(t,r).value[e]}}function dn(t,e){var n;return("number"==typeof e?we:e instanceof ne?ye:(n=ne(e))?(e=n,ye):xe)(t,e)}function hn(t){return function(){this.removeAttribute(t)}}function fn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function mn(t,e,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function vn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttribute(t))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttribute(t)}}function gn(t,e,n){var r,o,i;return function(){var a,s,c=n(this);if(null!=c)return(a=this.getAttributeNS(t.space,t.local))===(s=c+"")?null:a===r&&s===o?i:(o=s,i=e(r=a,c));this.removeAttributeNS(t.space,t.local)}}function yn(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function wn(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function _n(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&wn(t,o)),n}return o._value=e,o}function bn(t,e){var n,r;function o(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&yn(t,o)),n}return o._value=e,o}function xn(t,e){return function(){rn(this,t).delay=+e.apply(this,arguments)}}function En(t,e){return e=+e,function(){rn(this,t).delay=e}}function Sn(t,e){return function(){on(this,t).duration=+e.apply(this,arguments)}}function kn(t,e){return e=+e,function(){on(this,t).duration=e}}function Ln(t,e){if("function"!=typeof e)throw new Error;return function(){on(this,t).ease=e}}function An(t,e,n){var r,o,i=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?rn:on;return function(){var a=i(this,t),s=a.on;s!==r&&(o=(r=s).copy()).on(e,n),a.on=o}}var qn=xt.prototype.constructor;function Cn(t){return function(){this.style.removeProperty(t)}}function Nn(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Mn(t,e,n){var r,o;function i(){var i=e.apply(this,arguments);return i!==o&&(r=(o=i)&&Nn(t,i,n)),r}return i._value=e,i}function Tn(t){return function(e){this.textContent=t.call(this,e)}}function zn(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Tn(r)),e}return r._value=t,r}var Hn=0;function On(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function In(){return++Hn}var Dn=xt.prototype;On.prototype={constructor:On,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=_(t));for(var r=this._groups,o=r.length,i=new Array(o),a=0;a<o;++a)for(var s,c,l=r[a],u=l.length,d=i[a]=new Array(u),h=0;h<u;++h)(s=l[h])&&(c=t.call(s,s.__data__,h,l))&&("__data__"in s&&(c.__data__=s.__data__),d[h]=c,nn(d[h],e,n,h,d,an(s,n)));return new On(i,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=x(t));for(var r=this._groups,o=r.length,i=[],a=[],s=0;s<o;++s)for(var c,l=r[s],u=l.length,d=0;d<u;++d)if(c=l[d]){for(var h,f=t.call(c,c.__data__,d,l),p=an(c,n),m=0,v=f.length;m<v;++m)(h=f[m])&&nn(h,e,n,m,f,p);i.push(f),a.push(c)}return new On(i,a,e,n)},filter:function(t){"function"!=typeof t&&(t=E(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,a=e[o],s=a.length,c=r[o]=[],l=0;l<s;++l)(i=a[l])&&t.call(i,i.__data__,l,a)&&c.push(i);return new On(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),a=new Array(r),s=0;s<i;++s)for(var c,l=e[s],u=n[s],d=l.length,h=a[s]=new Array(d),f=0;f<d;++f)(c=l[f]||u[f])&&(h[f]=c);for(;s<r;++s)a[s]=e[s];return new On(a,this._parents,this._name,this._id)},selection:function(){return new qn(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=In(),r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)if(a=s[l]){var u=an(a,e);nn(a,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new On(r,this._parents,t,n)},call:Dn.call,nodes:Dn.nodes,node:Dn.node,size:Dn.size,empty:Dn.empty,each:Dn.each,on:function(t,e){var n=this._id;return arguments.length<2?an(this.node(),n).on.on(t):this.each(An(n,t,e))},attr:function(t,e){var n=m(t),r="transform"===n?Te:dn;return this.attrTween(t,"function"==typeof e?(n.local?gn:vn)(n,r,un(this,"attr."+t,e)):null==e?(n.local?fn:hn)(n):(n.local?mn:pn)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=m(t);return this.tween(n,(r.local?_n:bn)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?Me:dn;return null==e?this.styleTween(t,function(t,e){var n,r,o;return function(){var i=R(this,t),a=(this.style.removeProperty(t),R(this,t));return i===a?null:i===n&&a===r?o:o=e(n=i,r=a)}}(t,r)).on("end.style."+t,Cn(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,o,i;return function(){var a=R(this,t),s=n(this),c=s+"";return null==s&&(this.style.removeProperty(t),c=s=R(this,t)),a===c?null:a===r&&c===o?i:(o=c,i=e(r=a,s))}}(t,r,un(this,"style."+t,e))).each(function(t,e){var n,r,o,i,a="style."+e,s="end."+a;return function(){var c=on(this,t),l=c.on,u=null==c.value[a]?i||(i=Cn(e)):void 0;l===n&&o===u||(r=(n=l).copy()).on(s,o=u),c.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,o,i=n+"";return function(){var a=R(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Mn(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(un(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!=typeof t)throw new Error;return this.tween(e,zn(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,o=an(this.node(),n).tween,i=0,a=o.length;i<a;++i)if((r=o[i]).name===t)return r.value;return null}return this.each((null==e?cn:ln)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?xn:En)(e,t)):an(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Sn:kn)(e,t)):an(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ln(e,t)):an(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,o=n.size();return new Promise((function(i,a){var s={value:a},c={value:function(){0==--o&&i()}};n.each((function(){var n=on(this,r),o=n.on;o!==t&&((e=(t=o).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(c)),n.on=e}))}))}};var jn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function Rn(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return jn.time=Xe(),jn;return n}xt.prototype.interrupt=function(t){return this.each((function(){sn(this,t)}))},xt.prototype.transition=function(t){var e,n;t instanceof On?(e=t._id,t=t._name):(e=In(),(n=jn).time=Xe(),t=null==t?null:t+"");for(var r=this._groups,o=r.length,i=0;i<o;++i)for(var a,s=r[i],c=s.length,l=0;l<c;++l)(a=s[l])&&nn(a,t,e,l,s,n||Rn(a,e));return new On(r,this._parents,t,e)};var Pn=Math.PI,Bn=2*Pn,Un=1e-6,$n=Bn-Un;function Fn(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Yn(){return new Fn}Fn.prototype=Yn.prototype={constructor:Fn,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,o,i){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+o)+","+(this._y1=+i)},arcTo:function(t,e,n,r,o){t=+t,e=+e,n=+n,r=+r,o=+o;var i=this._x1,a=this._y1,s=n-t,c=r-e,l=i-t,u=a-e,d=l*l+u*u;if(o<0)throw new Error("negative radius: "+o);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(d>Un)if(Math.abs(u*s-c*l)>Un&&o){var h=n-i,f=r-a,p=s*s+c*c,m=h*h+f*f,v=Math.sqrt(p),g=Math.sqrt(d),y=o*Math.tan((Pn-Math.acos((p+d-m)/(2*v*g)))/2),w=y/g,_=y/v;Math.abs(w-1)>Un&&(this._+="L"+(t+w*l)+","+(e+w*u)),this._+="A"+o+","+o+",0,0,"+ +(u*h>l*f)+","+(this._x1=t+_*s)+","+(this._y1=e+_*c)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,o,i){t=+t,e=+e,i=!!i;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),c=t+a,l=e+s,u=1^i,d=i?r-o:o-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+c+","+l:(Math.abs(this._x1-c)>Un||Math.abs(this._y1-l)>Un)&&(this._+="L"+c+","+l),n&&(d<0&&(d=d%Bn+Bn),d>$n?this._+="A"+n+","+n+",0,1,"+u+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+u+","+(this._x1=c)+","+(this._y1=l):d>Un&&(this._+="A"+n+","+n+",0,"+ +(d>=Pn)+","+u+","+(this._x1=t+n*Math.cos(o))+","+(this._y1=e+n*Math.sin(o))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Xn="$";function Gn(){}function Vn(t,e){var n=new Gn;if(t instanceof Gn)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var r,o=-1,i=t.length;if(null==e)for(;++o<i;)n.set(o,t[o]);else for(;++o<i;)n.set(e(r=t[o],o,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function Wn(){}Gn.prototype=Vn.prototype={constructor:Gn,has:function(t){return Xn+t in this},get:function(t){return this[Xn+t]},set:function(t,e){return this[Xn+t]=e,this},remove:function(t){var e=Xn+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Xn&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Xn&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Xn&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Xn&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Xn&&++t;return t},empty:function(){for(var t in this)if(t[0]===Xn)return!1;return!0},each:function(t){for(var e in this)e[0]===Xn&&t(this[e],e.slice(1),this)}};var Qn=Vn.prototype;function Jn(t){return function(){return t}}function Kn(){return 1e-6*(Math.random()-.5)}function Zn(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var o,i,a,s,c,l,u,d,h,f=t._root,p={data:r},m=t._x0,v=t._y0,g=t._x1,y=t._y1;if(!f)return t._root=p,t;for(;f.length;)if((l=e>=(i=(m+g)/2))?m=i:g=i,(u=n>=(a=(v+y)/2))?v=a:y=a,o=f,!(f=f[d=u<<1|l]))return o[d]=p,t;if(s=+t._x.call(null,f.data),c=+t._y.call(null,f.data),e===s&&n===c)return p.next=f,o?o[d]=p:t._root=p,t;do{o=o?o[d]=new Array(4):t._root=new Array(4),(l=e>=(i=(m+g)/2))?m=i:g=i,(u=n>=(a=(v+y)/2))?v=a:y=a}while((d=u<<1|l)==(h=(c>=a)<<1|s>=i));return o[h]=f,o[d]=p,t}function tr(t,e,n,r,o){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=o}function er(t){return t[0]}function nr(t){return t[1]}function rr(t,e,n){var r=new or(null==e?er:e,null==n?nr:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function or(t,e,n,r,o,i){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=o,this._y1=i,this._root=void 0}function ir(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}Wn.prototype={constructor:Wn,has:Qn.has,add:function(t){return this[Xn+(t+="")]=t,this},remove:Qn.remove,clear:Qn.clear,values:Qn.keys,size:Qn.size,empty:Qn.empty,each:Qn.each};var ar=rr.prototype=or.prototype;function sr(t){return t.index}function cr(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function lr(t){return t.x}function ur(t){return t.y}ar.copy=function(){var t,e,n=new or(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ir(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var o=0;o<4;++o)(e=r.source[o])&&(e.length?t.push({source:e,target:r.target[o]=new Array(4)}):r.target[o]=ir(e));return n},ar.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Zn(this.cover(e,n),e,n,t)},ar.addAll=function(t){var e,n,r,o,i=t.length,a=new Array(i),s=new Array(i),c=1/0,l=1/0,u=-1/0,d=-1/0;for(n=0;n<i;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(o=+this._y.call(null,e))||(a[n]=r,s[n]=o,r<c&&(c=r),r>u&&(u=r),o<l&&(l=o),o>d&&(d=o));if(c>u||l>d)return this;for(this.cover(c,l).cover(u,d),n=0;n<i;++n)Zn(this,a[n],s[n],t[n]);return this},ar.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,o=this._x1,i=this._y1;if(isNaN(n))o=(n=Math.floor(t))+1,i=(r=Math.floor(e))+1;else{for(var a,s,c=o-n,l=this._root;n>t||t>=o||r>e||e>=i;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=l,l=a,c*=2,s){case 0:o=n+c,i=r+c;break;case 1:n=o-c,i=r+c;break;case 2:o=n+c,r=i-c;break;case 3:n=o-c,r=i-c}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=o,this._y1=i,this},ar.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},ar.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},ar.find=function(t,e,n){var r,o,i,a,s,c,l,u=this._x0,d=this._y0,h=this._x1,f=this._y1,p=[],m=this._root;for(m&&p.push(new tr(m,u,d,h,f)),null==n?n=1/0:(u=t-n,d=e-n,h=t+n,f=e+n,n*=n);c=p.pop();)if(!(!(m=c.node)||(o=c.x0)>h||(i=c.y0)>f||(a=c.x1)<u||(s=c.y1)<d))if(m.length){var v=(o+a)/2,g=(i+s)/2;p.push(new tr(m[3],v,g,a,s),new tr(m[2],o,g,v,s),new tr(m[1],v,i,a,g),new tr(m[0],o,i,v,g)),(l=(e>=g)<<1|t>=v)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=c)}else{var y=t-+this._x.call(null,m.data),w=e-+this._y.call(null,m.data),_=y*y+w*w;if(_<n){var b=Math.sqrt(n=_);u=t-b,d=e-b,h=t+b,f=e+b,r=m.data}}return r},ar.remove=function(t){if(isNaN(i=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,o,i,a,s,c,l,u,d,h,f=this._root,p=this._x0,m=this._y0,v=this._x1,g=this._y1;if(!f)return this;if(f.length)for(;;){if((l=i>=(s=(p+v)/2))?p=s:v=s,(u=a>=(c=(m+g)/2))?m=c:g=c,e=f,!(f=f[d=u<<1|l]))return this;if(!f.length)break;(e[d+1&3]||e[d+2&3]||e[d+3&3])&&(n=e,h=d)}for(;f.data!==t;)if(r=f,!(f=f.next))return this;return(o=f.next)&&delete f.next,r?(o?r.next=o:delete r.next,this):e?(o?e[d]=o:delete e[d],(f=e[0]||e[1]||e[2]||e[3])&&f===(e[3]||e[2]||e[1]||e[0])&&!f.length&&(n?n[h]=f:this._root=f),this):(this._root=o,this)},ar.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},ar.root=function(){return this._root},ar.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},ar.visit=function(t){var e,n,r,o,i,a,s=[],c=this._root;for(c&&s.push(new tr(c,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(c=e.node,r=e.x0,o=e.y0,i=e.x1,a=e.y1)&&c.length){var l=(r+i)/2,u=(o+a)/2;(n=c[3])&&s.push(new tr(n,l,u,i,a)),(n=c[2])&&s.push(new tr(n,r,u,l,a)),(n=c[1])&&s.push(new tr(n,l,o,i,u)),(n=c[0])&&s.push(new tr(n,r,o,l,u))}return this},ar.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new tr(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var o=e.node;if(o.length){var i,a=e.x0,s=e.y0,c=e.x1,l=e.y1,u=(a+c)/2,d=(s+l)/2;(i=o[0])&&n.push(new tr(i,a,s,u,d)),(i=o[1])&&n.push(new tr(i,u,s,c,d)),(i=o[2])&&n.push(new tr(i,a,d,u,l)),(i=o[3])&&n.push(new tr(i,u,d,c,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},ar.x=function(t){return arguments.length?(this._x=t,this):this._x},ar.y=function(t){return arguments.length?(this._y=t,this):this._y};var dr=Math.PI*(3-Math.sqrt(5));function hr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}var fr=Array.prototype.slice,pr={name:"implicit"};function mr(t){return function(){return t}}var vr=Math.PI,gr=2*vr,yr={draw:function(t,e){var n=Math.sqrt(e/vr);t.moveTo(n,0),t.arc(0,0,n,0,gr)}};function wr(t){return function(){return t}}function _r(t,e,n){this.target=t,this.type=e,this.transform=n}function br(t,e,n){this.k=t,this.x=e,this.y=n}br.prototype={constructor:br,scale:function(t){return 1===t?this:new br(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new br(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xr=new br(1,0,0);function Er(){ut.stopImmediatePropagation()}function Sr(){ut.preventDefault(),ut.stopImmediatePropagation()}function kr(){return!ut.ctrlKey&&!ut.button}function Lr(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Ar(){return this.__zoom||xr}function qr(){return-ut.deltaY*(1===ut.deltaMode?.05:ut.deltaMode?1:.002)}function Cr(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nr(t,e,n){var r=t.invertX(e[0][0])-n[0][0],o=t.invertX(e[1][0])-n[1][0],i=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}var Mr={Movie:t=>t.properties.title,Person:t=>t.properties.name},Tr=function t(){var e=Vn(),n=[],r=[],o=pr;function i(t){var i=t+"",a=e.get(i);if(!a){if(o!==pr)return o;e.set(i,a=n.push(t))}return r[(a-1)%r.length]}return i.domain=function(t){if(!arguments.length)return n.slice();n=[],e=Vn();for(var r,o,a=-1,s=t.length;++a<s;)e.has(o=(r=t[a])+"")||e.set(o,n.push(r));return i},i.range=function(t){return arguments.length?(r=fr.call(t),i):r.slice()},i.unknown=function(t){return arguments.length?(o=t,i):o},i.copy=function(){return t(n,r).unknown(o)},hr.apply(i,arguments),i}(["#2f855a","#319795","#2c5282","#434190","#553c9a","#9b2c2c","#9c4221","#975a16","#97266d","#2d3748"]),zr=function(t){var e=void 0!==t.labels?t.labels[0]:"Default";return Tr(e)||"gray"},Hr=function(t){if(t.name)return t.name;for(let e=0;e<t.labels.length;e++)if(Mr[t.labels[e]])return Mr[t.labels[e]](t);return t.id};function Or(t,e){var n=Et(t).attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 600 400"),r={x:(+n.attr("width")||t.clientWidth)/2,y:(+n.attr("height")||t.clientHeight)/2},o=n.append("g").attr("class","everything"),i=function(t){var e,n=1,r=.001,o=1-Math.pow(r,1/300),i=0,a=.6,s=Vn(),l=We(d),u=c("tick","end");function d(){h(),u.call("tick",e),n<r&&(l.stop(),u.call("end",e))}function h(r){var c,l,u=t.length;void 0===r&&(r=1);for(var d=0;d<r;++d)for(n+=(i-n)*o,s.each((function(t){t(n)})),c=0;c<u;++c)null==(l=t[c]).fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function f(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var o=10*Math.sqrt(n),i=n*dr;e.x=o*Math.cos(i),e.y=o*Math.sin(i)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),f(),e={tick:h,restart:function(){return l.restart(d),e},stop:function(){return l.stop(),e},nodes:function(n){return arguments.length?(t=n,f(),s.each(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(o=+t,e):+o},alphaTarget:function(t){return arguments.length?(i=+t,e):i},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var o,i,a,s,c,l=0,u=t.length;for(null==r?r=1/0:r*=r,l=0;l<u;++l)(a=(o=e-(s=t[l]).x)*o+(i=n-s.y)*i)<r&&(c=s,r=a);return c},on:function(t,n){return arguments.length>1?(u.on(t,n),e):u.on(t)}}}().force("charge",function(){var t,e,n,r,o=Jn(-30),i=1,a=1/0,s=.81;function c(r){var o,i=t.length,a=rr(t,lr,ur).visitAfter(u);for(n=r,o=0;o<i;++o)e=t[o],a.visit(d)}function l(){if(t){var e,n,i=t.length;for(r=new Array(i),e=0;e<i;++e)n=t[e],r[n.index]=+o(n,e,t)}}function u(t){var e,n,o,i,a,s=0,c=0;if(t.length){for(o=i=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,c+=n,o+=n*e.x,i+=n*e.y);t.x=o/c,t.y=i/c}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function d(t,o,c,l){if(!t.value)return!0;var u=t.x-e.x,d=t.y-e.y,h=l-o,f=u*u+d*d;if(h*h/s<f)return f<a&&(0===u&&(f+=(u=Kn())*u),0===d&&(f+=(d=Kn())*d),f<i&&(f=Math.sqrt(i*f)),e.vx+=u*t.value*n/f,e.vy+=d*t.value*n/f),!0;if(!(t.length||f>=a)){(t.data!==e||t.next)&&(0===u&&(f+=(u=Kn())*u),0===d&&(f+=(d=Kn())*d),f<i&&(f=Math.sqrt(i*f)));do{t.data!==e&&(h=r[t.data.index]*n/f,e.vx+=u*h,e.vy+=d*h)}while(t=t.next)}}return c.initialize=function(e){t=e,l()},c.strength=function(t){return arguments.length?(o="function"==typeof t?t:Jn(+t),l(),c):o},c.distanceMin=function(t){return arguments.length?(i=t*t,c):Math.sqrt(i)},c.distanceMax=function(t){return arguments.length?(a=t*t,c):Math.sqrt(a)},c.theta=function(t){return arguments.length?(s=t*t,c):Math.sqrt(s)},c}().strength(-200)).force("center",function(t,e){var n;function r(){var r,o,i=n.length,a=0,s=0;for(r=0;r<i;++r)a+=(o=n[r]).x,s+=o.y;for(a=a/i-t,s=s/i-e,r=0;r<i;++r)(o=n[r]).x-=a,o.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r}(r.x,r.y)),a=function(){var t,e,n=kr,r=Lr,o=Nr,i=qr,a=Cr,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Oe,h=c("start","zoom","end"),f=500,p=0;function m(t){t.property("__zoom",Ar).on("wheel.zoom",x).on("mousedown.zoom",E).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",L).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new br(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,o=e[1]-n[1]*t.k;return r===t.x&&o===t.y?t:new br(t.k,r,o)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n){t.on("start.zoom",(function(){_(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).end()})).tween("zoom",(function(){var t=this,o=arguments,i=_(t,o),a=r.apply(t,o),s=null==n?y(a):"function"==typeof n?n.apply(t,o):n,c=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,u="function"==typeof e?e.apply(t,o):e,h=d(l.invert(s).concat(c/l.k),u.invert(s).concat(c/u.k));return function(t){if(1===t)t=u;else{var e=h(t),n=c/e[2];t=new br(n,s[0]-e[0]*n,s[1]-e[1]*n)}i.zoom(null,t)}}))}function _(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function x(){if(n.apply(this,arguments)){var t=_(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,i.apply(this,arguments)))),a=Lt(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],sn(this),t.start()}Sr(),t.wheel=setTimeout(c,150),t.zoom("mouse",o(g(v(e,r),t.mouse[0],t.mouse[1]),t.extent,l))}function c(){t.wheel=null,t.end()}}function E(){if(!e&&n.apply(this,arguments)){var t=_(this,arguments,!0),r=Et(ut.view).on("mousemove.zoom",c,!0).on("mouseup.zoom",u,!0),i=Lt(this),a=ut.clientX,s=ut.clientY;Nt(ut.view),Er(),t.mouse=[i,this.__zoom.invert(i)],sn(this),t.start()}function c(){if(Sr(),!t.moved){var e=ut.clientX-a,n=ut.clientY-s;t.moved=e*e+n*n>p}t.zoom("mouse",o(g(t.that.__zoom,t.mouse[0]=Lt(t.that),t.mouse[1]),t.extent,l))}function u(){r.on("mousemove.zoom mouseup.zoom",null),Mt(ut.view,t.moved),Sr(),t.end()}}function S(){if(n.apply(this,arguments)){var t=this.__zoom,e=Lt(this),i=t.invert(e),a=t.k*(ut.shiftKey?.5:2),s=o(g(v(t,a),e,i),r.apply(this,arguments),l);Sr(),u>0?Et(this).transition().duration(u).call(w,s,e):Et(this).call(m.transform,s)}}function k(){if(n.apply(this,arguments)){var e,r,o,i,a=ut.touches,s=a.length,c=_(this,arguments,ut.changedTouches.length===s);for(Er(),r=0;r<s;++r)i=[i=At(this,a,(o=a[r]).identifier),this.__zoom.invert(i),o.identifier],c.touch0?c.touch1||c.touch0[2]===i[2]||(c.touch1=i,c.taps=0):(c.touch0=i,e=!0,c.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(c.taps<2&&(t=setTimeout((function(){t=null}),f)),sn(this),c.start())}}function L(){if(this.__zooming){var e,n,r,i,a=_(this,arguments),s=ut.changedTouches,c=s.length;for(Sr(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)r=At(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var u=a.touch0[0],d=a.touch0[1],h=a.touch1[0],f=a.touch1[1],p=(p=h[0]-u[0])*p+(p=h[1]-u[1])*p,m=(m=f[0]-d[0])*m+(m=f[1]-d[1])*m;n=v(n,Math.sqrt(p/m)),r=[(u[0]+h[0])/2,(u[1]+h[1])/2],i=[(d[0]+f[0])/2,(d[1]+f[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],i=a.touch0[1]}a.zoom("touch",o(g(n,r,i),a.extent,l))}}function A(){if(this.__zooming){var t,n,r=_(this,arguments),o=ut.changedTouches,i=o.length;for(Er(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),f),t=0;t<i;++t)n=o[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Et(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return m.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",Ar),t!==r?w(t,e,n):r.interrupt().each((function(){_(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()}))},m.scaleBy=function(t,e,n){m.scaleTo(t,(function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)}),n)},m.scaleTo=function(t,e,n){m.transform(t,(function(){var t=r.apply(this,arguments),i=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=i.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return o(g(v(i,c),a,s),t,l)}),n)},m.translateBy=function(t,e,n){m.transform(t,(function(){return o(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),l)}))},m.translateTo=function(t,e,n,i){m.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==i?y(t):"function"==typeof i?i.apply(this,arguments):i;return o(xr.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,l)}),i)},b.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){vt(new _r(m,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:wr(+t),m):i},m.filter=function(t){return arguments.length?(n="function"==typeof t?t:wr(!!t),m):n},m.touchable=function(t){return arguments.length?(a="function"==typeof t?t:wr(!!t),m):a},m.extent=function(t){return arguments.length?(r="function"==typeof t?t:wr([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):r},m.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],m):[s[0],s[1]]},m.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(t){return arguments.length?(o=t,m):o},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(d=t,m):d},m.on=function(){var t=h.on.apply(h,arguments);return t===h?m:t},m.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,m):Math.sqrt(p)},m}().on("zoom",(function(){o.attr("transform",ut.transform)}));a(n),i.nodes(e.nodes),i.force("link",function(t){var e,n,r,o,i,a=sr,s=function(t){return 1/Math.min(o[t.source.index],o[t.target.index])},c=Jn(30),l=1;function u(r){for(var o=0,a=t.length;o<l;++o)for(var s,c,u,d,h,f,p,m=0;m<a;++m)c=(s=t[m]).source,d=(u=s.target).x+u.vx-c.x-c.vx||Kn(),h=u.y+u.vy-c.y-c.vy||Kn(),d*=f=((f=Math.sqrt(d*d+h*h))-n[m])/f*r*e[m],h*=f,u.vx-=d*(p=i[m]),u.vy-=h*p,c.vx+=d*(p=1-p),c.vy+=h*p}function d(){if(r){var s,c,l=r.length,u=t.length,d=Vn(r,a);for(s=0,o=new Array(l);s<u;++s)(c=t[s]).index=s,"object"!=typeof c.source&&(c.source=cr(d,c.source)),"object"!=typeof c.target&&(c.target=cr(d,c.target)),o[c.source.index]=(o[c.source.index]||0)+1,o[c.target.index]=(o[c.target.index]||0)+1;for(s=0,i=new Array(u);s<u;++s)c=t[s],i[s]=o[c.source.index]/(o[c.source.index]+o[c.target.index]);e=new Array(u),h(),n=new Array(u),f()}}function h(){if(r)for(var n=0,o=t.length;n<o;++n)e[n]=+s(t[n],n,t)}function f(){if(r)for(var e=0,o=t.length;e<o;++e)n[e]=+c(t[e],e,t)}return null==t&&(t=[]),u.initialize=function(t){r=t,d()},u.links=function(e){return arguments.length?(t=e,d(),u):t},u.id=function(t){return arguments.length?(a=t,u):a},u.iterations=function(t){return arguments.length?(l=+t,u):l},u.strength=function(t){return arguments.length?(s="function"==typeof t?t:Jn(+t),h(),u):s},u.distance=function(t){return arguments.length?(c="function"==typeof t?t:Jn(+t),f(),u):c},u}(e.links).distance(90).strength(.2).id((function(t){return t.id})));var s=o.append("g").attr("stroke","#999").attr("stroke-opacity",.6).selectAll("line").data(e.links).join("line").attr("stroke-width",2),l=o.append("g").attr("class","nodes").selectAll("g").data(e.nodes).enter().append("g").call(function(t){return function(){var t,e,n,r,o=Ht,i=Ot,a=It,s=Dt,l={},u=c("start","drag","end"),d=0,h=0;function f(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",w).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(){if(!r&&o.apply(this,arguments)){var a=_("mouse",i.apply(this,arguments),Lt,this,arguments);a&&(Et(ut.view).on("mousemove.drag",m,!0).on("mouseup.drag",v,!0),Nt(ut.view),qt(),n=!1,t=ut.clientX,e=ut.clientY,a("start"))}}function m(){if(Ct(),!n){var r=ut.clientX-t,o=ut.clientY-e;n=r*r+o*o>h}l.mouse("drag")}function v(){Et(ut.view).on("mousemove.drag mouseup.drag",null),Mt(ut.view,n),Ct(),l.mouse("end")}function g(){if(o.apply(this,arguments)){var t,e,n=ut.changedTouches,r=i.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=_(n[t].identifier,r,At,this,arguments))&&(qt(),e("start"))}}function y(){var t,e,n=ut.changedTouches,r=n.length;for(t=0;t<r;++t)(e=l[n[t].identifier])&&(Ct(),e("drag"))}function w(){var t,e,n=ut.changedTouches,o=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<o;++t)(e=l[n[t].identifier])&&(qt(),e("end"))}function _(t,e,n,r,o){var i,s,c,h=n(e,t),p=u.copy();if(vt(new zt(f,"beforestart",i,t,d,h[0],h[1],0,0,p),(function(){return null!=(ut.subject=i=a.apply(r,o))&&(s=i.x-h[0]||0,c=i.y-h[1]||0,!0)})))return function a(u){var m,v=h;switch(u){case"start":l[t]=a,m=d++;break;case"end":delete l[t],--d;case"drag":h=n(e,t),m=d}vt(new zt(f,u,i,t,m,h[0]+s,h[1]+c,h[0]-v[0],h[1]-v[1],p),p.apply,p,[u,r,o])}}return f.filter=function(t){return arguments.length?(o="function"==typeof t?t:Tt(!!t),f):o},f.container=function(t){return arguments.length?(i="function"==typeof t?t:Tt(t),f):i},f.subject=function(t){return arguments.length?(a="function"==typeof t?t:Tt(t),f):a},f.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Tt(!!t),f):s},f.on=function(){var t=u.on.apply(u,arguments);return t===u?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}().on("start",(function(e){ut.active||t.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y})).on("drag",(function(t){t.fx=ut.x,t.fy=ut.y})).on("end",(function(e){ut.active||t.alphaTarget(0).restart(),e.fx=null,e.fy=null}))}(i));l.append("path").attr("fill",zr).attr("stroke",(function(t){return(ne(zr(t))||ae(51,51,51)).darker().hex()})).attr("stroke-width",2).attr("d",(function(){return function(){var t=mr(yr),e=mr(64),n=null;function r(){var r;if(n||(n=r=Yn()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:mr(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:mr(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r}().type(yr).size(2e3)()})),l.append("text").attr("font-size",10).text(Hr).attr("text-anchor","middle").attr("fill","black").attr("x",0).attr("y",4).attr("pointer-events","none"),l.append("title").text((function(t){return t.id})),i.on("tick",(function(){s.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),l.attr("transform",(function(t){return"translate("+t.x+","+t.y+")"}))})),function(t,e){var r=n.node().getBBox(),o=n.node().parentElement,i=o.clientWidth,s=o.clientHeight,c=r.width,l=r.height,u=r.x+c/2,d=r.y+l/2;if(0!==c&&0!==l){var h=(t||.75)/Math.max(c/i,l/s),f=[i/2-h*u,s/2-h*d];console.trace("zoomFit",f,h),n.transition().duration(e||0).call(a.translateTo,f[0],f[1])}}(.7,1e3)}function Ir(t,e,n,r,o,i){var a=new XMLHttpRequest;a.open(t,e,!0),a.setRequestHeader("Content-Type","application/json"),r&&a.setRequestHeader("Authorization",r),a.onload=function(){this.status>=200&&this.status<400?o&&o(JSON.parse(this.response)):i&&i(this.response)},a.onerror=function(t){i(t)},n?a.send(JSON.stringify(n)):a.send()}function Dr(t,e,n,r){Ir("GET",t,"",e,n,r)}function jr(t,e,n,r,o){Ir("POST",t,e,n,r,o)}const Rr=function(t){return new Promise(((e,n)=>{try{jr("https://graphgist-v3-api.herokuapp.com/graphql",t,void 0,(function(t){e(t)}),(function(t){n(t)}))}catch(t){n(t)}}))};let Pr;function Br(e,n="Run Query",r,a){let s;var c="database:",l="backend:",u="mode:",d=["mode:read","mode:write"];const h=async function(){if(!Pr){const t=await async function(t="3.5"){return Rr({operationName:"sessionId",variables:{neo4j_version:t},query:"query sessionId($neo4j_version: String) { getConsoleSessionId(neo4j_version: $neo4j_version) }"})}();Pr=t.data.getConsoleSessionId}return Pr},f=function(t){Array.from(t.querySelectorAll(".code-results")).forEach((function(e){t.removeChild(e)}))};const p=function(e,n,r){var o=e.parentNode.classList.contains("graph");void 0===r&&(r=o),f(e);var a=t("div","code-result-container");let s;if(r){const e=function(t){const e={};if(t.visualization){e.paths=t.json,e.nodes=t.visualization.nodes;const n=t.visualization.links;e.links=n.map((t=>(t.source&&(t.source=t.start),t.target&&(t.target=t.end),t)))}else{const n=[],r=[];t.records.forEach((t=>{t.keys.forEach((e=>{const o=t.get(e);o.labels&&-1===n.findIndex((t=>t.id===o.identity.toNumber()))?n.push({id:o.identity.toNumber(),labels:o.labels,properties:o.properties}):o.type&&r.push({id:o.identity.toNumber(),source:o.start.toNumber(),target:o.end.toNumber(),type:o.type,properties:o.properties})}))})),e.paths=[],e.nodes=n,e.links=r}return e}(n);s=function(e,n){const r=t("div","gram");e.appendChild(r);const o=document.createElementNS("http://www.w3.org/2000/svg","svg");o.setAttribute("width",r.clientWidth),o.setAttribute("height",r.clientHeight),r.appendChild(o);const i=new Set;for(const t of n.paths){const e=Object.keys(t);for(const n of e){const e=t[n],r=Array.isArray(e)?e:[e];for(const t of r)t._labels&&i.add(JSON.stringify({id:t._id,labels:t._labels}))}}const a=i&&i.size>0?n.nodes.filter((t=>i.has(JSON.stringify({id:t.id,labels:t.labels})))):n.nodes,s=a.map((t=>t.id)),c=i&&i.size>0&&n.links.some((t=>t.selected))?n.links.filter((t=>t.selected)):n.links.filter((t=>t.end&&s.includes(t.end)&&t.target&&s.includes(t.target)));return setTimeout((()=>Or(o,{nodes:a,links:c})),100),r}(a,e)}else{const e=function(t){const e={};return t.columns&&(e.columns=t.columns),t.json&&(e.data=t.json.slice(0,100)),t.records&&(e.columns=t.records[0].keys,e.data=t.records.slice(0,100).map((function(t){return t.keys.reduce((function(e,n){return e[n]=i(t.get(n)),e}),{})}))),e}(n);if(e.columns&&e.columns.length&&e.data&&e.data.length)s=function(e){const n=e.columns.map((function(e){return t("th","",[document.createTextNode(e)])})),r=t("tr","",n),o=t("thead","",[r]),a=t("tbody","",e.data.map((function(n,r){return t("tr","row-"+r,e.columns.map((function(e){let r=i(n[e]);return r="string"!=typeof r?t("pre","",[document.createTextNode(JSON.stringify(r,null,2))]):document.createTextNode(r),t("td",e,[r])})))})));return t("table","code-result-table",[o,a])}(e);else{const e=n.result?n.result:n.stats?JSON.stringify(n.stats,null,2):"";s=t("code","code-result-raw",t("pre","",document.createTextNode(e)))}}a.appendChild(s);var c=t("button","btn btn-close",[document.createTextNode("Close Results")]);c.addEventListener("click",(function(){f(e)}));var l=null;if(o){var u=t("button",r?"code-result-toggle--current":"",document.createTextNode("Graph"));u.addEventListener("click",(()=>{p(e,n,!0)}));var d=t("button",r?"":"code-result-toggle--current",document.createTextNode("Table"));d.addEventListener("click",(()=>{p(e,n,!1)})),l=t("div","code-result-toggle",[u,d])}var h=t("div","code-result-options",[t("div","code-result-header",[document.createTextNode("Results")]),t("div","spacer"),l,c]),m=t("div","code-results",[h,a]);e.appendChild(m)};var m=function(e,n){f(e);var r=t("div","code-results",[t("div","code-result-options",[t("div","code-result-header",[document.createTextNode("Error")])]),t("pre","error",[document.createTextNode(n.message)])]);e.appendChild(r)};const v=async function(t,e,n,i,c,l,u="neo4jlabs"){const d=o(n.querySelector("pre").innerText);if(""!==d.trim())if("neo4jlabs"===u)l.innerHTML="Initialising Driver&hellip;",c.disabled=!0,window.mixpanel&&window.mixpanel.track("DOCS_CODE_RUN_EXAMPLE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,database:e,mode:t,language:"cypher",code:d}),(s?Promise.resolve(s):(window.neo4jDatabaseUri="neo4j+s://demo.neo4jlabs.com:7687",window.neo4jDatabase="movies",s=window.neo4j.driver(window.neo4jDatabaseUri,window.neo4j.auth.basic("movies","movies")),s.verifyConnectivity().then((function(){return s})))).then((function(o){l.innerHTML="Running Query&hellip;";var s=o.session({mode:t,database:e}),u=s.beginTransaction();return u.run(d).then((function(t){c.disabled=!1,l.innerHTML="",i.classList.add("has-results"),"function"==typeof r&&r({cypher:d,results:t}),p(n,t)})).catch((function(t){c.disabled=!1,l.innerHTML="",i.classList.add("has-results"),"function"==typeof a&&a({cypher:d,error:t}),m(n,t)})).then((function(){return u.rollback()})).then((function(){return s.close()}))})).catch((function(r){c.disabled=!1,l.innerHTML="",i.classList.add("has-results"),"function"==typeof a&&a({cypher:d,error:r}),window.mixpanel&&window.mixpanel.track("DOCS_CODE_RUN_ERROR",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,database:e,mode:t,code:d,message:r.message}),m(n,r)}));else{l.innerHTML="Initialising Session&hellip;",c.disabled=!0;try{const t=await h();l.innerHTML="Running Query&hellip;";try{const e=await async function(t,e,n="3.5"){return Rr({operationName:"cypherQuery",variables:{session_id:e,neo4j_version:n,cypher:t},query:"query cypherQuery($neo4j_version: String, $session_id: String!, $cypher: String!) {\n queryConsole(neo4j_version: $neo4j_version, session_id: $session_id, cypher: $cypher)\n}"})}(d,t),r=JSON.parse(e.data.queryConsole);c.disabled=!1,l.innerHTML="",i.classList.add("has-results"),r.error?(console.error("Unsuccessful query:",r.error),m(n,{message:r.error})):p(n,r)}catch(t){c.disabled=!1,l.innerHTML="",i.classList.add("has-results"),console.error("Error while executing query:",t),m(n,t)}}catch(t){c.disabled=!1,l.innerHTML="",i.classList.add("has-results"),console.error("Something bad happened:",t),m(n,t)}}};var g="READ",y="movies",w="neo4jlabs",_=e.querySelector(".content"),b=_.querySelector("pre"),x=b.innerHTML,E=o(b.innerText),S=t("div","loading");const k=[S,t("div","spacer")],L=t("button","btn btn-run btn-primary",[document.createTextNode(n)]);e.classList.contains("single")||(L.addEventListener("click",(function(){v(g,y,_,A,L,S,w)})),k.unshift(L));var A=t("div","code-footer",k);_.appendChild(A),_.addEventListener("input",(function(e){var n=A.querySelector(".btn-reset");o(_.querySelector("pre").innerText)!==E?n||(n=t("button","btn btn-reset",[document.createTextNode("Reset")]),A.appendChild(n),n.addEventListener("click",(function(){b.innerHTML=x,A.removeChild(n)}))):n&&A.removeChild(n)})),e.classList.forEach((function(t){t.startsWith(c)?y=t.replace(c,""):t.startsWith(u)&&d.indexOf(t.toLowerCase())>-1?g=t.replace(u,"").toUpperCase():t.startsWith(l)&&(w=t.replace(l,"").toLowerCase())}));let q=()=>{};return e.classList.contains("instant")&&(q=async()=>v(g,y,_,A,L,S,w)),{element:e,callback:q}}function Ur(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(e,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})})),e}document.addEventListener("DOMContentLoaded",(async function(){document.querySelectorAll(".editable").forEach((function(t){t.querySelectorAll("code").forEach((function(t){t.contentEditable=!0}))}));var t=Array.from(document.querySelectorAll(".runnable"));if(!t.filter((t=>!t.className.includes("backend:graphgist"))).length||window.neo4j&&window.neo4j.driver){if(0!==Br.length)for(const e of t)try{await Br(e).callback()}catch(t){console.log("Unable to initialize the runnable element",e,t)}}else console.warn("Neo4j driver is not loaded, unable to run Cypher queries...")})),document.addEventListener("DOMContentLoaded",(function(){function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}var n="tabbed-target--active",r="tabbed-tab--active",o=void 0!==window.sessionStorage&&"function"==typeof window.sessionStorage.getItem&&"function"==typeof window.sessionStorage.setItem,i=function(t){var e=t.target,i=e.dataset.lang,a=e.dataset.title;document.querySelectorAll('.tabbed-target[data-title="'+a+'"]').forEach((function(t){t.parentElement.querySelectorAll("."+n).forEach((function(t){t.classList.remove(n)})),t.classList.add(n),t.parentElement.parentElement.querySelectorAll("."+r).forEach((function(t){t.classList.remove(r)})),t.parentElement.parentElement.querySelectorAll('.tabbed-tab[data-title="'+a+'"]').forEach((function(t){t.classList.add(r)}))}));var s=0,c=document.querySelector(".toolbar");c.offsetHeight&&(s=c.offsetHeight);var l=document.querySelector(".navbar").offsetHeight+s+20,u=document.body.getBoundingClientRect().top,d=e.getBoundingClientRect().top-u-l;window.scrollTo({top:d,behavior:"smooth"}),o&&window.sessionStorage.setItem("code_example_language",i),window.mixpanel&&window.mixpanel.track("DOCS_TAB_CHANGE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,language:i,title:a})},a=["train","stream","stats","mutate","write"],s=[],c="include-with-";document.querySelectorAll('[class*="'+c+'"]').forEach((function(t){t.classList.forEach((function(t){var e=t.replace(c,"");t.startsWith(c)&&-1===s.indexOf(e)&&s.push(e)}))}));var l="dotnet";if(o){var u=new URLSearchParams(window.location.search).get("language");if(u&&s.includes(u.toLocaleLowerCase()))l=u.toLocaleLowerCase(),window.sessionStorage.setItem("code_example_language",l);else{var d=window.sessionStorage.getItem("code_example_language");d&&s.includes(d)&&(l=d)}}Array.from(document.querySelectorAll(".tabbed-example")).forEach((function(n){var o=n.querySelector(".title"),c=n,u=n.parentElement,d=[],h=!1;if(s.forEach((function(t){n.querySelectorAll(".include-with-"+t).forEach((function(e){e.setAttribute("data-title",t),e.setAttribute("data-lang",t),d.push(e),a.includes(t)&&(h=!0)}))})),!(d.length<=1)||h){var f=t("div","tabbed-container",[]),p=t("div","tabbed",[f]);o&&u.insertBefore(o,c),u.insertBefore(p,c);var m=d.map((function(n){var o=n.getAttribute("data-lang"),a=function(t){var n;switch(t){case"csharp":case"dotnet":n="C#";break;case"javascript":n="JavaScript";break;case"mutate":case"stats":case"stream":case"train":case"write":n=e(t)+" mode";break;case"macos":n="macOS";break;default:n=e(t.replaceAll("-"," "))}return n}(o),s=t("li","tabbed-tab",[document.createTextNode(a)]);return n.dataset.title=a,n.dataset.lang=o,s.dataset.title=a,s.dataset.lang=o,o===l&&s.classList.add(r),s.addEventListener("click",i),s})),v=!1;if(d.forEach((function(t){f.appendChild(t),t.classList.add("tabbed-target"),t.getAttribute("data-lang")===l&&(t.classList.add("tabbed-target--active"),v=!0)})),!v){var g=d[0].getAttribute("data-lang"),y=0;d.forEach((function(t){t.getAttribute("data-lang")===g&&(t.classList.add("tabbed-target--active"),m[y].classList.add("tabbed-tab--active")),y++}))}p.insertBefore(t("ul","tabbed-tabs",m),f),u.removeChild(c)}}))}));var $r=Ur(Object.freeze({__proto__:null,getCookie:function(t){const e=new RegExp(`${t}=[^;]+;`),n=document.cookie.match(e);if(n)return n[0].split("=")[1].trim().replace(";","")}}));const{getCookie:Fr}=$r;var Yr;function Xr(t){document.querySelectorAll(`div.sect1:not(.cs-all, .${t})`).forEach((t=>{t.classList.toggle("hidden")})),document.querySelectorAll(`div.sect2:not(.cs-all, .${t})`).forEach((t=>{t.classList.toggle("hidden")})),document.querySelectorAll(`div.exampleblock:not(.cs-all, .${t})`).forEach((t=>{t.classList.toggle("hidden")}));const e=["div.sect1","div.sect2","div.exampleblock"];for(;e.length>=2;){Gr(e.pop(),e[e.length-1])}document.querySelectorAll("div.sect1.hidden, div.sect1.hidden div.sect2, div.sect2.hidden").forEach((t=>{const e=t.firstElementChild.id,n=document.querySelector(`.toc-menu a[href="#${e}"]`);n&&n.closest("li").classList.toggle("hidden")}))}function Gr(t,e){document.querySelectorAll(`${e}:not(.hidden)`).forEach((e=>{const n=e.querySelectorAll(t).length;e.querySelectorAll(`${t}.hidden`).length===n?e.classList.add("hidden"):e.classList.remove("hidden")}))}!function(){var t=document.querySelector(".feedback");if(t){var e=t.innerHTML,n="",r=document.querySelector(".edit-this-page a");r&&(n=' <a href="'+r.getAttribute("href")+'" target="_blank">Edit this page</a>');var o=function(t,e,n){const r=Fr("neo_identity"),o=Fr("_gid"),i=Fr("_uetsid");var a=document.querySelector('meta[property="neo:product"]'),s=a?a.getAttribute("content").toLowerCase().replace(/[^a-z0-9]+/g,"-"):document.querySelector("body").className.replace("article ","").split(" ")[0],c="project="+encodeURIComponent(s);c+="&url="+encodeURIComponent(window.location.href),c+="&helpful="+t.toString(),r&&(c+="&identity="+r),o&&(c+="&gid="+o),i&&(c+="&uetsid="+i),t||(c+="&reason="+encodeURIComponent(e),n&&(c+="&moreInformation="+encodeURIComponent(n))),fetch("https://uglfznxroe.execute-api.us-east-1.amazonaws.com/dev/Feedback",{method:"post",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:c})},i=function(){t.classList.remove("negative"),t.classList.remove("positive"),t.innerHTML=e;var a=t.querySelector(".yes"),s=t.querySelector(".no");a.addEventListener("click",(function(e){e.preventDefault(),o(!0),t.classList.add("positive"),t.innerHTML='<div class="header thank-you-positive"><p><strong>Thank you for your feedback!</strong></p></div>'})),s.addEventListener("click",(function(e){e.preventDefault(),function(){t.classList.add("negative"),t.innerHTML=`<form class="form">\n      <div class="header">\n        <p><strong>We&rsquo;re sorry to hear that. How could we improve this page?</strong></p>\n        <svg width="14px" height="22px" viewBox="0 0 22 22" role="button" class="cancel" aria-label="Cancel Feedback">\n          <line x1="19.5833333" y1="0.416666667" x2="0.416666667" y2="19.5833333"></line>\n          <line x1="19.5833333" y1="19.5833333" x2="0.416666667" y2="0.416666667"></line>\n        </svg>\n      </div>\n      <div>\n        <input id="missing" type="radio" class="feedback-option" data-reason="missing" name="specific" value="missing" checked="true"><label\n          for="missing">It has missing information</label>\n      </div>\n      <div>\n        <input id="hard-to-follow" type="radio" class="feedback-option" data-reason="hard-to-follow" name="specific" value="hard-to-follow">\n        <label for="hard-to-follow">It&rsquo;s hard to follow or confusing</label>\n      </div>\n      <div>\n        <input id="inaccurate" type="radio" class="feedback-option" data-reason="inaccurate" name="specific" value="inaccurate">\n        <label for="inaccurate">It&rsquo;s inaccurate, out of date, or doesn&rsquo;t work</label>\n      </div>\n      <div><input id="other" type="radio" class="feedback-option" data-reason="other" name="specific" value="other"><label for="other">Something else\n          ${n}</label></div>\n      <div class="more-information"><label for="more-information"><strong>More information</strong></label><textarea\n          id="more-information" type="text" rows="3" cols="50" name="more-information" style="resize:none"></textarea>\n      </div>\n      <div class="buttons"><input type="button" class="primary" data-submit="submit" value="Submit feedback"><input\n          type="button" class="secondary" data-submit="skip" value="Skip"></div>\n      </div>\n    </form>\n    `;var e='<div class="header thank-you-positive">\n      <p><strong>Thank you for your feedback!</strong></p>\n      <p>We will take this information into account while updating our documentation.</p>\n    ';r&&(e+="<p>You can also help us by "+n.replace("Edit","editing")+".</p></div>"),t.querySelector(".cancel").addEventListener("click",(function(t){t.preventDefault(),window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_NEGATIVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash}),i()})),t.querySelector(".primary").addEventListener("click",(function(n){t.classList.remove("negative"),t.classList.add("positive"),n.preventDefault();var r=t.querySelector('input[name="specific"]:checked').value,i=t.querySelector('textarea[name="more-information"]').value;o(!1,r,i),t.innerHTML=e,window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_POSITIVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash})})),t.querySelector(".secondary").addEventListener("click",(function(n){n.preventDefault();var r=t.querySelector('input[name="specific"]:checked').value,i=t.querySelector('textarea[name="more-information"]').value;o(!1,r,i),t.innerHTML=e,window.mixpanel&&window.mixpanel.track("DOCS_FEEDBACK_SKIP",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash})}))}()}))};window.addEventListener("scroll",(function(e){var n=window.scrollY,r=window.innerHeight,o=document.getElementsByTagName("footer")[0].offsetTop;n+r>o?(t.classList.add("absolute"),t.style.top=o-t.clientHeight+"px",t.style.bottom="auto"):(t.classList.remove("absolute"),t.style.top="auto",t.style.bottom="0px")})),i()}}(),function(){var t=document.querySelector("article.doc"),e=document.querySelector(".toolbar"),n=document.querySelector("header > .navbar");function r(t){return t&&(~t.indexOf("%")?decodeURIComponent(t):t).slice(1)}function o(e,n){return t.contains(e)?o(e.offsetParent,e.offsetTop+n):n}function i(t){t&&(window.location.hash="#"+this.id,t.preventDefault());var r=e?e.getBoundingClientRect().bottom:n.getBoundingClientRect().bottom;window.scrollTo(0,o(this,0)-r)}window.addEventListener("load",(function t(e){var n,o;(n=r(window.location.hash))&&(o=document.getElementById(n))&&(i.bind(o)(),setTimeout(i.bind(o),0)),window.removeEventListener("load",t)})),Array.prototype.slice.call(document.querySelectorAll('a[href^="#"]')).forEach((function(t){var e,n;(e=r(t.hash))&&(n=document.getElementById(e))&&t.addEventListener("click",i.bind(n))}))}(),document.querySelectorAll('.doc a[href^="http"], .doc a[target="_blank"]').forEach((function(t){t.classList.add("external")})),(Yr=document.getElementById("kb-search-button"))&&window.neo4jSearch&&("function"==typeof window.neo4jSearch.updateContext&&window.neo4jSearch.updateContext({name:"kb",postTypes:["Knowledge Base"]}),Yr.addEventListener("click",(function(t){t.stopPropagation(),"function"==typeof window.neo4jSearch.openSearch&&window.neo4jSearch.openSearch()}))),document.addEventListener("DOMContentLoaded",(function(){if(!window.mixpanel)return;const t=new Date,e=()=>{const n=document.querySelector("footer.footer").getBoundingClientRect();document.querySelector("body").classList.add("read"),n.top<=(window.innerHeight||document.documentElement.clientHeight)&&(window.mixpanel.track("DOCS_PAGE_READ",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,ms:Math.abs(new Date-t)}),document.removeEventListener("scroll",e))};document.addEventListener("scroll",e)})),"undefined"!=typeof WebAuth&&function(t){var e="https://pysadbr27c.execute-api.us-east-1.amazonaws.com",n=window.location,r=n.href,o=new t({clientID:"hoNo6B00ckfAoFVzPTqzgBIJHFHDnHYu",domain:"login.neo4j.com",redirectUri:"localhost"===n.hostname?n.origin+"/accounts/callback":n.origin+"/accounts/login",audience:"neo4j://accountinfo/",scope:"read:account-info openid email profile user_metadata",responseType:"token id_token"});window.GraphAcademy={logout:function(){window.location="http://neo4j.com/accounts/login-b/?targetUrl="+encodeURI(r)},login:function(t,e){try{o.checkSession({},(function(n,r){n?e(n):t(r)}))}catch(t){e(t)}},getQuizStatus:function(t,n,r,o){Dr(e+"/getQuizStatus?className="+t,n,r,o)},setQuizStatus:function(t,n,r,o,i,a){jr(e+"/setQuizStatus",{className:t,passed:n,failed:r},o,i,a)},getClassCertificate:function(t,n,r,o){jr(e+"/genClassCertificate",{className:t},n,r,o)},getEnrollmentForClass:function(t,n,r,o){Dr(e+"/getClassEnrollment?className="+t,n,r,o)},enrollStudentInClass:function(t,n,r,o,i,a){jr(e+"/setClassEnrollment",{className:t,firstName:n,lastName:r},o,i,a)}}}(WebAuth),document.addEventListener("DOMContentLoaded",(function(){const t=window.location.href,e=document.querySelector("body.training-enrollment");if(e&&e.dataset&&e.dataset.courseName){const n=e.dataset.courseName;function r(t){t||(t="Error while loading the data, please refresh the page."),i.dataset.status="error";i.querySelector(".error > p").innerHTML=t}let o;e.querySelectorAll('[data-action="logout"]').forEach((function(e){e.onclick=function(e){e.preventDefault(),window.location="https://neo4j.com/accounts/logout/?targetUrl="+encodeURIComponent(t)}})),e.querySelectorAll('[data-action="signin"]').forEach((function(e){e.onclick=function(e){e.preventDefault(),window.location="https://neo4j.com/accounts/login-b/?targetUrl="+encodeURIComponent(t)}})),e.querySelectorAll('[data-action="course-continue"]').forEach((function(t){t.onclick=function(e){e.preventDefault(),t.dataset&&t.dataset.courseUrl&&(window.location=t.dataset.courseUrl)}}));const i=document.querySelector(".course-actions"),a=document.querySelector('.course-actions .course-state[data-state="unauthenticated"]'),s=document.querySelector('.course-actions .course-state[data-state="authenticated"]'),c=document.querySelector('.course-actions .course-state[data-state="enrolled"]');n&&GraphAcademy.login((function(t){if(t&&t.accessToken&&t.idTokenPayload){o=t.accessToken;const e=t.idTokenPayload;"undefined"!=typeof MktoForms2&&MktoForms2.whenReady((function(t){t.vals({FirstName:e.given_name,LastName:e.family_name,Email:e.email})})),GraphAcademy.getEnrollmentForClass(n,o,(function(t){if(t.enrolled)console.log("Student is enrolled, showing a continue button"),a.classList.add("is-hidden"),s.classList.add("is-hidden");else{a.classList.add("is-hidden"),c.classList.add("is-hidden");const t=1422,e="mktoForm_"+t,s=document.getElementById(e);if(s&&s.dataset&&"true"===s.dataset.disabled)return void r("You cannot enroll in this course.");s&&"undefined"!=typeof MktoForms2?(console.log("Student is not enrolled, showing a form to enroll"),MktoForms2.loadForm("//go.neo4j.com","710-RRC-335",t,(function(t){const a=document.getElementById("LblLastName").parentElement.parentElement.parentElement,s=document.createElement("p");s.classList.add("help"),s.innerText="Name above used to generate Certificate of Completion",a.insertAdjacentElement("afterend",s);document.querySelector("#"+e+' .mktoButton[type="submit"]').innerHTML="Enroll in Course",t.onSuccess((function(t,a){return i.dataset.status="loading",GraphAcademy.enrollStudentInClass(n,t.FirstName,t.LastName,o,(function(t){console.log("Successfully enrolled the student",t);const n=document.getElementById(e);n&&n.dataset&&n.dataset.courseUrl?window.location=n.dataset.courseUrl:r("<strong>Sorry, something has gone wrong.</strong> We were unable to proceed, please refresh the page.")}),(function(t){console.log("Unable to enroll the student",t),r("<strong>Sorry, something has gone wrong.</strong> Please refresh the page and try again.")})),!1}))}))):r("<strong>Sorry, something has gone wrong.</strong> Some browser features like Firefox's Enhanced Tracking Protection prevent the training from working properly.<br/>Please try a different browser or turn of ETP.")}i.dataset.status="loaded"}),(function(t){console.log("Unable to get enrollment for the student",t),r()}))}else console.log("Invalid response from Auth0, unable to proceed",t),r()}),(function(t){console.info("Unable to authenticate the user or the user is not authenticated",t),s.classList.add("is-hidden"),c.classList.add("is-hidden"),i.dataset.status="loaded"}))}})),document.addEventListener("DOMContentLoaded",(function(){var t,e,n,r,o=document.querySelector("body.training");o&&o&&o.dataset.slug&&(t=o.dataset.slug),o&&o&&o.dataset.enrollmentUrl&&(e=o.dataset.enrollmentUrl),o&&o.dataset&&o.dataset.courseName&&(n=o.dataset.courseName,r="com.neo4j.graphacademy."+n+".quizStatus");var i=document.querySelector('[data-action="grade-quiz"]');function a(t){for(var e=document.querySelectorAll(".nav-item[data-slug]"),n=0;n<e.length;n++){var r=e[n],o=r.dataset.slug;r.classList.remove("is-pending","is-completed"),t.passed.includes(o)?r.classList.add("is-completed"):t.untried.includes(o)&&r.classList.add("is-pending")}}function s(t){for(var e=t.parentElement;null!==e&&1===e.nodeType;){if(e.classList.contains("checklist")&&e.classList.contains("answers"))for(var n=e.previousElementSibling;null!==n&&1===e.nodeType;){if("H3"===n.nodeName)return n;n=n.previousElementSibling}e=e.parentElement}}if(n&&t&&e&&r){var c,l,u=window.localStorage.getItem(r);a(c=u?JSON.parse(u):{failed:[],passed:[],untried:[]}),document.querySelectorAll('.checklist.answers input[data-item-complete="1"]').forEach((function(t){t.checked=!1})),GraphAcademy.login((function(e){l=e,GraphAcademy.getQuizStatus(n,l.accessToken,(function(e){c=e.quizStatus,window.localStorage.setItem(r,JSON.stringify(c)),a(c),function(e){e&&e.passed&&-1!==e.passed.indexOf(t)&&(i.style.visibility="hidden",document.querySelectorAll(".checklist.answers input").forEach((function(t){t.checked="1"===t.dataset.itemComplete})))}(c)}),(function(t){console.log("Unable to get quiz status",t)}))}),(function(t){console.log("Unable to authenticate the user or the user is not authenticated",t),console.log("Redirecting to the enrollment page..."),window.location.href=e}));var d=document.querySelector(".download-certificate"),h=document.querySelector('[data-action="download-certificate-link"]');d&&document.querySelectorAll('[data-action="download-certificate"]').forEach((function(t){t.onclick=function(t){t.preventDefault(),d.dataset.status="loading";try{GraphAcademy.getClassCertificate(n,l.accessToken,(function(t){t.url?(d.dataset.status="success",h.href=t.url,window.open(t.url)):(console.log("Unable to get the certificate, the URL is missing from the response"),d.dataset.status="error")}),(function(t){console.log("Unable to get the certificate",t),d.dataset.status="error"}))}catch(t){d.dataset.status="error"}}})),i&&(i.onclick=function(e){e.preventDefault();var o=document.getElementById("quiz-result");o||((o=document.createElement("div")).id="quiz-result",i.insertAdjacentElement("afterend",o)),o.classList.remove("is-error","is-success"),function(t){if(c&&c.passed&&-1!==c.passed.indexOf(t))return!0;for(var e=document.querySelectorAll(".quiz h3"),n=0;n<e.length;n++)e[n].style.color="#4a5568";for(var r=document.querySelectorAll(".checklist.answers input"),o=!0,i=0;i<r.length;i++){var a=r[i],l="1"===a.dataset.itemComplete;if(l&&!a.checked||!l&&a.checked){var u=s(a);u&&(u.style.color="#e53e3e"),o=!1}}if(o&&c&&c.passed){c.passed.push(t);var d=c.untried.indexOf(t);-1!==d&&c.untried.splice(d,1)}return o}(t)?(o.classList.add("is-success"),o.innerHTML='<p class="paragraph"><strong>All good!</strong> you can advance to next section.</p>'):(o.classList.add("is-error"),o.innerHTML='<p class="paragraph"><strong>Please correct errors</strong> in quiz responses above to continue. Questions with incorrect responses are highlighted in <i>red</i>.</p>'),a(c);var u=c.passed,d=c.failed;GraphAcademy.setQuizStatus(n,u,d,l.accessToken,(function(){window.localStorage.setItem(r,JSON.stringify(c))}),(function(t){console.error("Unable to update quiz status",t)}))})}})),document.addEventListener("DOMContentLoaded",(function(){const t=window.location.href,e=document.querySelector("body.training-certification");let n;if(e&&e.dataset&&e.dataset.certificationId){function r(t){t||(t="Error while loading the data, please refresh the page."),a.dataset.status="error";a.querySelector(".error > p").innerHTML=t}let o,i;n=e.dataset.certificationId,e.querySelectorAll('[data-action="logout"]').forEach((function(e){e.onclick=function(e){e.preventDefault(),window.location="https://neo4j.com/accounts/logout/?targetUrl="+encodeURIComponent(t)}})),e.querySelectorAll('[data-action="signin"]').forEach((function(e){e.onclick=function(e){e.preventDefault(),window.location="https://neo4j.com/accounts/login-b/?targetUrl="+encodeURIComponent(t)}})),e.querySelectorAll('[data-action="course-continue"]').forEach((function(t){t.onclick=function(t){t.preventDefault(),n&&i&&(window.location="https://www.classmarker.com/online-test/start/?quiz="+n+"&cm_user_id=auth0|"+o+"&cm_fn="+i.given_name+"&cm_ln="+i.family_name+"&cm_e"+i.email)}}));const a=document.querySelector(".course-actions"),s=document.querySelector('.course-actions .course-state[data-state="unauthenticated"]'),c=document.querySelector('.course-actions .course-state[data-state="authenticated"]'),l=document.querySelector('.course-actions .course-state[data-state="enrolled"]');n&&GraphAcademy.login((function(t){if(t&&t.accessToken&&t.idTokenPayload){o=t.accessToken,i=t.idTokenPayload,"undefined"!=typeof MktoForms2&&MktoForms2.whenReady((function(t){t.vals({FirstName:i.given_name,LastName:i.family_name,Email:i.email})})),s.classList.add("is-hidden"),l.classList.add("is-hidden");const e=1255,c="mktoForm_"+e,u=document.getElementById(c);if(u&&u.dataset&&"true"===u.dataset.disabled)return void r("You cannot enroll in this course.");if(u&&"undefined"!=typeof MktoForms2){const t=function(t,e,n){setTimeout((function(){window.location="https://www.classmarker.com/online-test/start/?quiz="+t+"&cm_user_id="+n.sub+"&cm_fn="+e.FirstName+"&cm_ln="+e.LastName+"&cm_e"+e.Email}),300)};MktoForms2.loadForm("//go.neo4j.com","710-RRC-335",e,(function(e){const r=document.getElementById("LblLastName").parentElement.parentElement.parentElement,o=document.createElement("p");o.classList.add("help"),o.innerText="Name above used to generate Certificate of Completion",r.insertAdjacentElement("afterend",o);document.querySelector("#"+c+' .mktoButton[type="submit"]').innerHTML="Get Certified",e.onSuccess((function(e,r){t(n,e,i)}))}))}a.dataset.status="loaded"}else console.log("Invalid response from Auth0, unable to proceed",t),r()}),(function(t){console.log("Unable to authenticate the user or the user is not authenticated",t),c.classList.add("is-hidden"),l.classList.add("is-hidden"),a.dataset.status="loaded"}))}})),document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("yelp-dataset-agreement"),e=document.getElementById("yelp-create-sandbox-link");if(t&&e){var n="";if(void 0!==window.localStorage&&"function"==typeof window.localStorage.getItem&&(n=window.localStorage.getItem("neo4j.yelp-agreement")),"read-agreed"===n)t.style.display="none";else{var r=e.getAttribute("href");e.setAttribute("href","javascript:void(0)"),e.setAttribute("target","_self"),e.classList.remove("external");var o=function(){var e=t.getBoundingClientRect().top+window.pageYOffset-140;window.scrollTo({top:e,behavior:"smooth"}),t.classList.add("has-focus"),setTimeout((function(){t.classList.remove("has-focus")}),2e3)};e.addEventListener("click",o);var i=document.createElement("input");i.type="checkbox",i.id="yelp-dataset-agreement-check";var a=document.createElement("label");a.innerHTML="&nbsp;I have read and agree to the Dataset License",a.setAttribute("for","yelp-dataset-agreement-check");var s=document.createElement("button");s.type="button",s.classList.add("button"),s.innerText="Continue",s.addEventListener("click",(function(n){i.checked&&(void 0!==window.localStorage&&"function"==typeof window.localStorage.setItem&&window.localStorage.setItem("neo4j.yelp-agreement","read-agreed"),e.removeEventListener("click",o),e.setAttribute("target","_blank"),e.setAttribute("href",r),e.classList.add("external"),t.style.display="none")}));var c=document.createElement("p");c.appendChild(i),c.appendChild(a),c.appendChild(s),t.appendChild(c)}}})),document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("neo4j-browser-connection-url"),e=document.getElementById("neo4j-browser-open-link");if(t&&e&&e.dataset&&e.dataset.browserGuideUrl){const n=e.dataset.browserGuideUrl,r=new URLSearchParams(window.location.search).get("dbms");t.value=r||"bolt://localhost",e.addEventListener("click",(()=>{const r=t.value,o=new URLSearchParams({cmd:"play",arg:n,dbms:r});return e.href=`https://browser.neo4j.io/?${o.toString()}`,!1}))}})),document.addEventListener("DOMContentLoaded",(function(){setTimeout((()=>{document.querySelectorAll(".arrange").forEach((e=>{const n=e.querySelector("pre"),r=n.querySelector("code"),i=o(r.innerText),a=t=>{t.preventDefault(),s(t.target,!0)},s=(n,r)=>{const s=e.querySelector("pre code"),c=e.querySelector(".arrange-options ul");s.removeChild(n),n.nodeType===Node.TEXT_NODE?n=t("span","text-node",[document.createTextNode(` ${n.textContent} `)]):n.classList.contains("hljs-number")&&(n.innerHTML=" "+n.innerHTML+" "),window.mixpanel&&r&&window.mixpanel.track("DOCS_ARRANGE_CODE_REMOVE",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,segment:n.innerHTML,code:o(s.innerHTML),original:i}),n.removeEventListener("click",a);const l=t("li","arrange-option",[n]);l.addEventListener("click",(t=>{t.preventDefault(),((t,n)=>{const r=e.querySelector(".arrange-options ul"),s=e.querySelector("pre code"),c=t.children[0].cloneNode(!0);s.appendChild(c),r.removeChild(t),c.addEventListener("click",a),window.mixpanel&&n&&window.mixpanel.track("DOCS_ARRANGE_CODE_ADD",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,segment:c.innerHTML,code:o(s.innerHTML),original:i})})(l,!0)})),c.appendChild(l)},c=t("ul","",[]),l=t("div","arrange-options",[t("p","arrange-message",[document.createTextNode("Choose from the options below to complete the query:")]),c]);n.parentElement.prepend(l);const u=Array.from(r.childNodes).filter((t=>t.children>0||""!==t.textContent.trim()));u.sort((()=>Math.random()<.5?-1:1)),u.map((t=>s(t)));Br(e,"Run Query",(({cypher:t,results:e})=>{window.mixpanel&&window.mixpanel.track("DOCS_ARRANGE_CODE_COMPLETED",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,code:t,results:e.records.length})}),(({cypher:t,error:e})=>{window.mixpanel&&window.mixpanel.track("DOCS_ARRANGE_CODE_ERROR",{pathname:window.location.origin+window.location.pathname,search:window.location.search,hash:window.location.hash,code:t,error:e.message})}))}))}),200)})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#cheat-sheet-selector");if(!e)return;const n=[...e.options].map((t=>({value:t.value,text:t.dataset.label,hidden:t.hidden}))),r=[...e.options].reduce((function(t,e){return t.push(e.value),t}),[]).sort(),o=[...e.options].reduce((function(t,e){return e.hidden||t.push(e.value),t}),[]).sort(),i=[...e.options].reduce((function(t,e){return e.hidden&&t.push(e.value),t}),[]).sort(),a=["exampleblock","sect2","sect1"];document.querySelectorAll(a.map((t=>"."+t))).forEach((e=>{if(e.classList.contains("hidden"))return;const s=[...e.classList].filter((function(t){return-1===a.indexOf(t)})).sort(),c=r.filter((function(t){return-1!==s.indexOf(t)})).sort(),l=s.filter((function(t){return-1===r.indexOf(t)})).sort(),u=o.filter((function(t){return-1!==s.indexOf(t)})).sort(),d=i.filter((function(t){return-1!==s.indexOf(t)})).sort();l.forEach((t=>{e.classList.remove(t)})),0===u.length&&l.length>0?e.remove():0!==u.length&&u.toString()!==o.toString()||e.classList.add("cs-all");let h=d;u.toString()!==o.toString()&&(h=h.concat(u)),h&&c.length>0&&h.sort().forEach((r=>{!function(e,r){const o=t("div","paragraph");e.classList.contains("exampleblock")?o.classList.add("labels"):o.classList.add("page-labels");const i=t("p"),a=t("span",`label label--${r}`),s=n.find((t=>t.value===r)).text;a.textContent=s,i.appendChild(a);const c=e.firstElementChild.querySelector("div.labels");c?c.append(i):(o.appendChild(i),e.firstElementChild.appendChild(o))}(e,r)}))})),document.querySelectorAll(".toc-menu a").forEach((t=>{null===document.querySelector(t.hash)&&t.remove()})),document.querySelectorAll("span.label").forEach((t=>{const e=[...t.classList].filter((t=>t.startsWith("label--"))).toString().replace("label--","").trim();r.includes(e)||t.remove()}));const s=e.selectedIndex;Xr(e.options[s].value),e.addEventListener("change",(function(t){t.stopPropagation(),document.querySelectorAll(".toc-menu .hidden, .content .sect1.hidden, .content .sect2.hidden, .content .exampleblock.hidden").forEach((t=>{t.classList.remove("hidden")})),window.scrollTo(window.scrollX,window.scrollY+1),Xr(t.target.value),window.scrollTo(window.scrollX,window.scrollY-1)}))})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll('body.docs div[class^="sect"]:not(.sectionbody,.sect-header)').forEach((function(e){var n=e.classList;if(0!==(n=[...n].sort().filter((function(t){return!t.startsWith("sect")}))).length){var r=t("div","sect-header"),o=e.querySelector("h2,h3,h4,h5,h6");if(n.length>0){r.append(o);var i=t("div","roles");n.forEach((function(e){i.append(t("span",`role ${e}`))})),r.append(i),e.prepend(r),e.classList.add("show-roles")}}}))}))}();
